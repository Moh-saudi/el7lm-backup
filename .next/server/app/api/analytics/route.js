"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/analytics/route";
exports.ids = ["app/api/analytics/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "dns":
/*!**********************!*\
  !*** external "dns" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("dns");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "http2":
/*!************************!*\
  !*** external "http2" ***!
  \************************/
/***/ ((module) => {

module.exports = require("http2");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "process":
/*!**************************!*\
  !*** external "process" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("process");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalytics%2Froute&page=%2Fapi%2Fanalytics%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalytics%2Froute.ts&appDir=D%3A%5Cel7lm25-main%20(1)%5Cel7lm25-main%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cel7lm25-main%20(1)%5Cel7lm25-main&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalytics%2Froute&page=%2Fapi%2Fanalytics%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalytics%2Froute.ts&appDir=D%3A%5Cel7lm25-main%20(1)%5Cel7lm25-main%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cel7lm25-main%20(1)%5Cel7lm25-main&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_el7lm25_main_1_el7lm25_main_src_app_api_analytics_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/analytics/route.ts */ \"(rsc)/./src/app/api/analytics/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"standalone\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/analytics/route\",\n        pathname: \"/api/analytics\",\n        filename: \"route\",\n        bundlePath: \"app/api/analytics/route\"\n    },\n    resolvedPagePath: \"D:\\\\el7lm25-main (1)\\\\el7lm25-main\\\\src\\\\app\\\\api\\\\analytics\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_el7lm25_main_1_el7lm25_main_src_app_api_analytics_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/analytics/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhbmFseXRpY3MlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmFuYWx5dGljcyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmFuYWx5dGljcyUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDZWw3bG0yNS1tYWluJTIwKDEpJTVDZWw3bG0yNS1tYWluJTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1EJTNBJTVDZWw3bG0yNS1tYWluJTIwKDEpJTVDZWw3bG0yNS1tYWluJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PXN0YW5kYWxvbmUmcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDc0I7QUFDbkc7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lbDdsbS8/YjE0MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJEOlxcXFxlbDdsbTI1LW1haW4gKDEpXFxcXGVsN2xtMjUtbWFpblxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxhbmFseXRpY3NcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwic3RhbmRhbG9uZVwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hbmFseXRpY3Mvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hbmFseXRpY3NcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2FuYWx5dGljcy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkQ6XFxcXGVsN2xtMjUtbWFpbiAoMSlcXFxcZWw3bG0yNS1tYWluXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGFuYWx5dGljc1xcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvYW5hbHl0aWNzL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalytics%2Froute&page=%2Fapi%2Fanalytics%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalytics%2Froute.ts&appDir=D%3A%5Cel7lm25-main%20(1)%5Cel7lm25-main%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cel7lm25-main%20(1)%5Cel7lm25-main&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/analytics/route.ts":
/*!****************************************!*\
  !*** ./src/app/api/analytics/route.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_firebase_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/firebase/config */ \"(rsc)/./src/lib/firebase/config.ts\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/firestore */ \"(rsc)/./node_modules/firebase/firestore/dist/index.mjs\");\n\n\n\n// Collections that represent users in the platform\nconst USER_COLLECTIONS = [\n    \"players\",\n    \"academies\",\n    \"clubs\",\n    \"agents\",\n    \"trainers\",\n    \"marketers\",\n    \"parents\"\n];\nfunction toDate(value) {\n    if (!value) return null;\n    if (value instanceof Date) return value;\n    if (value instanceof firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.Timestamp) return value.toDate();\n    const d = new Date(value);\n    return isNaN(d.getTime()) ? null : d;\n}\nfunction startOfDay(d) {\n    return new Date(d.getFullYear(), d.getMonth(), d.getDate(), 0, 0, 0, 0);\n}\nfunction endOfDay(d) {\n    return new Date(d.getFullYear(), d.getMonth(), d.getDate(), 23, 59, 59, 999);\n}\n// Compute a naive profile completeness score (0-100) based on common fields\nfunction computeProfileCompleteness(u) {\n    const fields = [\n        \"name\",\n        \"email\",\n        \"phone\",\n        \"avatarUrl\",\n        \"city\",\n        \"country\",\n        \"bio\",\n        \"birthDate\",\n        \"gender\"\n    ];\n    const present = fields.reduce((acc, key)=>acc + (u?.[key] ? 1 : 0), 0);\n    return Math.round(present / fields.length * 100);\n}\nasync function POST(req) {\n    try {\n        const body = await req.json().catch(()=>({}));\n        const { event = \"visit\", route = \"/\", sessionId, userId } = body || {};\n        // Basic validation\n        if (!event) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Missing event\"\n            }, {\n                status: 400\n            });\n        }\n        // Basic IP/Geo extraction from headers (free, no external API)\n        const hdrs = req.headers;\n        const xff = hdrs?.get?.(\"x-forwarded-for\") || \"\";\n        const ipFromXff = xff.split(\",\")[0]?.trim();\n        const ip = ipFromXff || hdrs?.get?.(\"x-real-ip\") || hdrs?.get?.(\"cf-connecting-ip\") || null;\n        const country = hdrs?.get?.(\"x-vercel-ip-country\") || hdrs?.get?.(\"cf-ipcountry\") || null;\n        const region = hdrs?.get?.(\"x-vercel-ip-country-region\") || null;\n        const city = hdrs?.get?.(\"x-vercel-ip-city\") || null;\n        const acceptLanguage = hdrs?.get?.(\"accept-language\") || null;\n        // Persist a lightweight visit record\n        const visitsCol = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_lib_firebase_config__WEBPACK_IMPORTED_MODULE_1__.db, \"analytics_visits\");\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.setDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(visitsCol), {\n            event,\n            route,\n            sessionId: sessionId || null,\n            userId: userId || null,\n            userAgent: hdrs?.get?.(\"user-agent\") || null,\n            ip: ip || null,\n            geo: {\n                country: country || null,\n                region: region || null,\n                city: city || null,\n                acceptLanguage: acceptLanguage || null\n            },\n            createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.serverTimestamp)()\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true\n        });\n    } catch (e) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: e?.message || \"Failed\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function GET() {\n    try {\n        const now = new Date();\n        const days = 30;\n        const since = new Date(now.getTime() - days * 24 * 60 * 60 * 1000);\n        // Aggregate users counts per collection\n        const userCounts = {};\n        let totalUsers = 0;\n        for (const colName of USER_COLLECTIONS){\n            try {\n                const snap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getCountFromServer)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_lib_firebase_config__WEBPACK_IMPORTED_MODULE_1__.db, colName));\n                const count = snap.data().count || 0;\n                userCounts[colName] = count;\n                totalUsers += count;\n            } catch  {\n                userCounts[colName] = 0;\n            }\n        }\n        // Pull recent users for daily registrations and completeness sampling\n        const recentUsers = [];\n        for (const colName of USER_COLLECTIONS){\n            const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_lib_firebase_config__WEBPACK_IMPORTED_MODULE_1__.db, colName), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.orderBy)(\"createdAt\", \"desc\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.limit)(1000));\n            const snap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocs)(q);\n            snap.forEach((docSnap)=>{\n                const data = docSnap.data();\n                const createdAt = toDate(data?.createdAt);\n                if (createdAt) {\n                    recentUsers.push({\n                        id: docSnap.id,\n                        collection: colName,\n                        createdAt,\n                        ...data\n                    });\n                }\n            });\n        }\n        // Daily registrations last 30 days\n        const dailyMap = new Map();\n        const fmt = (d)=>`${d.getFullYear()}-${String(d.getMonth() + 1).padStart(2, \"0\")}-${String(d.getDate()).padStart(2, \"0\")}`;\n        recentUsers.forEach((u)=>{\n            if (u.createdAt && u.createdAt >= startOfDay(since)) {\n                const key = fmt(u.createdAt);\n                dailyMap.set(key, (dailyMap.get(key) || 0) + 1);\n            }\n        });\n        const dailyRegistrations = Array.from(dailyMap.entries()).map(([date, count])=>({\n                date,\n                count\n            })).sort((a, b)=>a.date.localeCompare(b.date));\n        // Profile completeness distribution (sample from recentUsers)\n        let completenessSum = 0;\n        const completenessBuckets = {\n            \"0-25\": 0,\n            \"26-50\": 0,\n            \"51-75\": 0,\n            \"76-100\": 0\n        };\n        let completedOver80 = 0;\n        recentUsers.forEach((u)=>{\n            const score = computeProfileCompleteness(u);\n            completenessSum += score;\n            if (score <= 25) completenessBuckets[\"0-25\"]++;\n            else if (score <= 50) completenessBuckets[\"26-50\"]++;\n            else if (score <= 75) completenessBuckets[\"51-75\"]++;\n            else completenessBuckets[\"76-100\"]++;\n            if (score >= 80) completedOver80++;\n        });\n        const avgCompleteness = recentUsers.length > 0 ? Math.round(completenessSum / recentUsers.length) : 0;\n        // Visitors analytics from analytics_visits collection (last 30 days)\n        const visitsQ = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_lib_firebase_config__WEBPACK_IMPORTED_MODULE_1__.db, \"analytics_visits\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)(\"createdAt\", \">=\", since), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.orderBy)(\"createdAt\", \"desc\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.limit)(5000));\n        const visitsSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocs)(visitsQ);\n        const visits = [];\n        visitsSnap.forEach((d)=>{\n            const v = d.data();\n            visits.push({\n                sessionId: v?.sessionId || null,\n                route: v?.route || null,\n                createdAt: toDate(v?.createdAt),\n                ip: v?.ip || null,\n                userAgent: v?.userAgent || null,\n                geo: {\n                    country: v?.geo?.country || null,\n                    region: v?.geo?.region || null,\n                    city: v?.geo?.city || null\n                }\n            });\n        });\n        const totalVisits = visits.length;\n        const uniqueSessions = new Set(visits.map((v)=>v.sessionId).filter(Boolean)).size;\n        // Visitors per day\n        const visitorsDailyMap = new Map();\n        visits.forEach((v)=>{\n            if (!v.createdAt) return;\n            const key = fmt(v.createdAt);\n            visitorsDailyMap.set(key, (visitorsDailyMap.get(key) || 0) + 1);\n        });\n        const dailyVisitors = Array.from(visitorsDailyMap.entries()).map(([date, count])=>({\n                date,\n                count\n            })).sort((a, b)=>a.date.localeCompare(b.date));\n        // Top routes\n        const routeMap = new Map();\n        visits.forEach((v)=>{\n            const r = v.route || \"unknown\";\n            routeMap.set(r, (routeMap.get(r) || 0) + 1);\n        });\n        const topRoutes = Array.from(routeMap.entries()).map(([route, count])=>({\n                route,\n                count\n            })).sort((a, b)=>b.count - a.count).slice(0, 10);\n        // By country\n        const countryMap = new Map();\n        visits.forEach((v)=>{\n            const c = v.geo?.country || \"UNKNOWN\";\n            countryMap.set(c, (countryMap.get(c) || 0) + 1);\n        });\n        const byCountry = Array.from(countryMap.entries()).map(([country, count])=>({\n                country,\n                count\n            })).sort((a, b)=>b.count - a.count).slice(0, 20);\n        // Recent visits (last 20)\n        const recent = visits.filter((v)=>!!v.createdAt).slice(0, 20).map((v)=>({\n                createdAt: v.createdAt?.toISOString?.() || null,\n                route: v.route || null,\n                ip: v.ip || null,\n                userAgent: v.userAgent || null,\n                geo: v.geo || {}\n            }));\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            users: {\n                total: totalUsers,\n                byType: userCounts,\n                dailyRegistrations\n            },\n            visitors: {\n                totalVisits,\n                uniqueSessions,\n                dailyVisitors,\n                topRoutes,\n                byCountry,\n                recent\n            },\n            profiles: {\n                avgCompleteness,\n                completedOver80,\n                completenessBuckets,\n                sampleSize: recentUsers.length\n            },\n            since: since.toISOString(),\n            generatedAt: new Date().toISOString()\n        });\n    } catch (e) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: e?.message || \"Failed\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O2dCQUNBOEIsWUFBWXJELFlBQVl6QyxNQUFNO1lBQ2hDO1lBQ0FrQyxPQUFPQSxNQUFNc0QsV0FBVztZQUN4Qk8sYUFBYSxJQUFJakgsT0FBTzBHLFdBQVc7UUFDckM7SUFDRixFQUFFLE9BQU8zRCxHQUFRO1FBQ2YsT0FBTy9ELHFEQUFZQSxDQUFDc0MsSUFBSSxDQUFDO1lBQUVNLE9BQU9tQixHQUFHQyxXQUFXO1FBQVMsR0FBRztZQUFFbkIsUUFBUTtRQUFJO0lBQzVFO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lbDdsbS8uL3NyYy9hcHAvYXBpL2FuYWx5dGljcy9yb3V0ZS50cz9mMWQ2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IGRiIH0gZnJvbSAnQC9saWIvZmlyZWJhc2UvY29uZmlnJztcbmltcG9ydCB7XG4gIGNvbGxlY3Rpb24sXG4gIGRvYyxcbiAgZ2V0RG9jcyxcbiAgZ2V0Q291bnRGcm9tU2VydmVyLFxuICBvcmRlckJ5LFxuICBsaW1pdCxcbiAgcXVlcnksXG4gIHNlcnZlclRpbWVzdGFtcCxcbiAgc2V0RG9jLFxuICBUaW1lc3RhbXAsXG4gIHdoZXJlLFxufSBmcm9tICdmaXJlYmFzZS9maXJlc3RvcmUnO1xuXG4vLyBDb2xsZWN0aW9ucyB0aGF0IHJlcHJlc2VudCB1c2VycyBpbiB0aGUgcGxhdGZvcm1cbmNvbnN0IFVTRVJfQ09MTEVDVElPTlMgPSBbXG4gICdwbGF5ZXJzJyxcbiAgJ2FjYWRlbWllcycsXG4gICdjbHVicycsXG4gICdhZ2VudHMnLFxuICAndHJhaW5lcnMnLFxuICAnbWFya2V0ZXJzJyxcbiAgJ3BhcmVudHMnLFxuXTtcblxuZnVuY3Rpb24gdG9EYXRlKHZhbHVlOiBhbnkpOiBEYXRlIHwgbnVsbCB7XG4gIGlmICghdmFsdWUpIHJldHVybiBudWxsO1xuICBpZiAodmFsdWUgaW5zdGFuY2VvZiBEYXRlKSByZXR1cm4gdmFsdWU7XG4gIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFRpbWVzdGFtcCkgcmV0dXJuIHZhbHVlLnRvRGF0ZSgpO1xuICBjb25zdCBkID0gbmV3IERhdGUodmFsdWUpO1xuICByZXR1cm4gaXNOYU4oZC5nZXRUaW1lKCkpID8gbnVsbCA6IGQ7XG59XG5cbmZ1bmN0aW9uIHN0YXJ0T2ZEYXkoZDogRGF0ZSk6IERhdGUge1xuICByZXR1cm4gbmV3IERhdGUoZC5nZXRGdWxsWWVhcigpLCBkLmdldE1vbnRoKCksIGQuZ2V0RGF0ZSgpLCAwLCAwLCAwLCAwKTtcbn1cblxuZnVuY3Rpb24gZW5kT2ZEYXkoZDogRGF0ZSk6IERhdGUge1xuICByZXR1cm4gbmV3IERhdGUoZC5nZXRGdWxsWWVhcigpLCBkLmdldE1vbnRoKCksIGQuZ2V0RGF0ZSgpLCAyMywgNTksIDU5LCA5OTkpO1xufVxuXG4vLyBDb21wdXRlIGEgbmFpdmUgcHJvZmlsZSBjb21wbGV0ZW5lc3Mgc2NvcmUgKDAtMTAwKSBiYXNlZCBvbiBjb21tb24gZmllbGRzXG5mdW5jdGlvbiBjb21wdXRlUHJvZmlsZUNvbXBsZXRlbmVzcyh1OiBSZWNvcmQ8c3RyaW5nLCBhbnk+KTogbnVtYmVyIHtcbiAgY29uc3QgZmllbGRzID0gW1xuICAgICduYW1lJyxcbiAgICAnZW1haWwnLFxuICAgICdwaG9uZScsXG4gICAgJ2F2YXRhclVybCcsXG4gICAgJ2NpdHknLFxuICAgICdjb3VudHJ5JyxcbiAgICAnYmlvJyxcbiAgICAnYmlydGhEYXRlJyxcbiAgICAnZ2VuZGVyJyxcbiAgXTtcbiAgY29uc3QgcHJlc2VudCA9IGZpZWxkcy5yZWR1Y2UoKGFjYywga2V5KSA9PiBhY2MgKyAodT8uW2tleV0gPyAxIDogMCksIDApO1xuICByZXR1cm4gTWF0aC5yb3VuZCgocHJlc2VudCAvIGZpZWxkcy5sZW5ndGgpICogMTAwKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxOiBSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcS5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gICAgY29uc3QgeyBldmVudCA9ICd2aXNpdCcsIHJvdXRlID0gJy8nLCBzZXNzaW9uSWQsIHVzZXJJZCB9ID0gYm9keSB8fCB7fTtcblxuICAgIC8vIEJhc2ljIHZhbGlkYXRpb25cbiAgICBpZiAoIWV2ZW50KSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ01pc3NpbmcgZXZlbnQnIH0sIHsgc3RhdHVzOiA0MDAgfSk7XG4gICAgfVxuXG4gICAgLy8gQmFzaWMgSVAvR2VvIGV4dHJhY3Rpb24gZnJvbSBoZWFkZXJzIChmcmVlLCBubyBleHRlcm5hbCBBUEkpXG4gICAgY29uc3QgaGRycyA9IChyZXEgYXMgYW55KS5oZWFkZXJzIGFzIEhlYWRlcnM7XG4gICAgY29uc3QgeGZmID0gaGRycz8uZ2V0Py4oJ3gtZm9yd2FyZGVkLWZvcicpIHx8ICcnO1xuICAgIGNvbnN0IGlwRnJvbVhmZiA9IHhmZi5zcGxpdCgnLCcpWzBdPy50cmltKCk7XG4gICAgY29uc3QgaXAgPSBpcEZyb21YZmYgfHwgaGRycz8uZ2V0Py4oJ3gtcmVhbC1pcCcpIHx8IGhkcnM/LmdldD8uKCdjZi1jb25uZWN0aW5nLWlwJykgfHwgbnVsbDtcbiAgICBjb25zdCBjb3VudHJ5ID0gaGRycz8uZ2V0Py4oJ3gtdmVyY2VsLWlwLWNvdW50cnknKSB8fCBoZHJzPy5nZXQ/LignY2YtaXBjb3VudHJ5JykgfHwgbnVsbDtcbiAgICBjb25zdCByZWdpb24gPSBoZHJzPy5nZXQ/LigneC12ZXJjZWwtaXAtY291bnRyeS1yZWdpb24nKSB8fCBudWxsO1xuICAgIGNvbnN0IGNpdHkgPSBoZHJzPy5nZXQ/LigneC12ZXJjZWwtaXAtY2l0eScpIHx8IG51bGw7XG4gICAgY29uc3QgYWNjZXB0TGFuZ3VhZ2UgPSBoZHJzPy5nZXQ/LignYWNjZXB0LWxhbmd1YWdlJykgfHwgbnVsbDtcblxuICAgIC8vIFBlcnNpc3QgYSBsaWdodHdlaWdodCB2aXNpdCByZWNvcmRcbiAgICBjb25zdCB2aXNpdHNDb2wgPSBjb2xsZWN0aW9uKGRiLCAnYW5hbHl0aWNzX3Zpc2l0cycpO1xuICAgIGF3YWl0IHNldERvYyhkb2ModmlzaXRzQ29sKSwge1xuICAgICAgZXZlbnQsXG4gICAgICByb3V0ZSxcbiAgICAgIHNlc3Npb25JZDogc2Vzc2lvbklkIHx8IG51bGwsXG4gICAgICB1c2VySWQ6IHVzZXJJZCB8fCBudWxsLFxuICAgICAgdXNlckFnZW50OiBoZHJzPy5nZXQ/LigndXNlci1hZ2VudCcpIHx8IG51bGwsXG4gICAgICBpcDogaXAgfHwgbnVsbCxcbiAgICAgIGdlbzoge1xuICAgICAgICBjb3VudHJ5OiBjb3VudHJ5IHx8IG51bGwsXG4gICAgICAgIHJlZ2lvbjogcmVnaW9uIHx8IG51bGwsXG4gICAgICAgIGNpdHk6IGNpdHkgfHwgbnVsbCxcbiAgICAgICAgYWNjZXB0TGFuZ3VhZ2U6IGFjY2VwdExhbmd1YWdlIHx8IG51bGwsXG4gICAgICB9LFxuICAgICAgY3JlYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKSxcbiAgICB9IGFzIGFueSk7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiB0cnVlIH0pO1xuICB9IGNhdGNoIChlOiBhbnkpIHtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogZT8ubWVzc2FnZSB8fCAnRmFpbGVkJyB9LCB7IHN0YXR1czogNTAwIH0pO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoKSB7XG4gIHRyeSB7XG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICBjb25zdCBkYXlzID0gMzA7XG4gICAgY29uc3Qgc2luY2UgPSBuZXcgRGF0ZShub3cuZ2V0VGltZSgpIC0gZGF5cyAqIDI0ICogNjAgKiA2MCAqIDEwMDApO1xuXG4gICAgLy8gQWdncmVnYXRlIHVzZXJzIGNvdW50cyBwZXIgY29sbGVjdGlvblxuICAgIGNvbnN0IHVzZXJDb3VudHM6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fTtcbiAgICBsZXQgdG90YWxVc2VycyA9IDA7XG5cbiAgICBmb3IgKGNvbnN0IGNvbE5hbWUgb2YgVVNFUl9DT0xMRUNUSU9OUykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc25hcCA9IGF3YWl0IGdldENvdW50RnJvbVNlcnZlcihjb2xsZWN0aW9uKGRiLCBjb2xOYW1lKSk7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gc25hcC5kYXRhKCkuY291bnQgfHwgMDtcbiAgICAgICAgdXNlckNvdW50c1tjb2xOYW1lXSA9IGNvdW50O1xuICAgICAgICB0b3RhbFVzZXJzICs9IGNvdW50O1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIHVzZXJDb3VudHNbY29sTmFtZV0gPSAwO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFB1bGwgcmVjZW50IHVzZXJzIGZvciBkYWlseSByZWdpc3RyYXRpb25zIGFuZCBjb21wbGV0ZW5lc3Mgc2FtcGxpbmdcbiAgICBjb25zdCByZWNlbnRVc2VyczogYW55W10gPSBbXTtcbiAgICBmb3IgKGNvbnN0IGNvbE5hbWUgb2YgVVNFUl9DT0xMRUNUSU9OUykge1xuICAgICAgY29uc3QgcSA9IHF1ZXJ5KFxuICAgICAgICBjb2xsZWN0aW9uKGRiLCBjb2xOYW1lKSxcbiAgICAgICAgb3JkZXJCeSgnY3JlYXRlZEF0JywgJ2Rlc2MnKSxcbiAgICAgICAgbGltaXQoMTAwMClcbiAgICAgICk7XG4gICAgICBjb25zdCBzbmFwID0gYXdhaXQgZ2V0RG9jcyhxKTtcbiAgICAgIHNuYXAuZm9yRWFjaCgoZG9jU25hcCkgPT4ge1xuICAgICAgICBjb25zdCBkYXRhID0gZG9jU25hcC5kYXRhKCk7XG4gICAgICAgIGNvbnN0IGNyZWF0ZWRBdCA9IHRvRGF0ZShkYXRhPy5jcmVhdGVkQXQpO1xuICAgICAgICBpZiAoY3JlYXRlZEF0KSB7XG4gICAgICAgICAgcmVjZW50VXNlcnMucHVzaCh7XG4gICAgICAgICAgICBpZDogZG9jU25hcC5pZCxcbiAgICAgICAgICAgIGNvbGxlY3Rpb246IGNvbE5hbWUsXG4gICAgICAgICAgICBjcmVhdGVkQXQsXG4gICAgICAgICAgICAuLi5kYXRhLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBEYWlseSByZWdpc3RyYXRpb25zIGxhc3QgMzAgZGF5c1xuICAgIGNvbnN0IGRhaWx5TWFwID0gbmV3IE1hcDxzdHJpbmcsIG51bWJlcj4oKTtcbiAgICBjb25zdCBmbXQgPSAoZDogRGF0ZSkgPT4gYCR7ZC5nZXRGdWxsWWVhcigpfS0ke1N0cmluZyhkLmdldE1vbnRoKCkgKyAxKS5wYWRTdGFydCgyLCAnMCcpfS0ke1N0cmluZyhkLmdldERhdGUoKSkucGFkU3RhcnQoMiwgJzAnKX1gO1xuICAgIHJlY2VudFVzZXJzLmZvckVhY2goKHUpID0+IHtcbiAgICAgIGlmICh1LmNyZWF0ZWRBdCAmJiB1LmNyZWF0ZWRBdCA+PSBzdGFydE9mRGF5KHNpbmNlKSkge1xuICAgICAgICBjb25zdCBrZXkgPSBmbXQodS5jcmVhdGVkQXQpO1xuICAgICAgICBkYWlseU1hcC5zZXQoa2V5LCAoZGFpbHlNYXAuZ2V0KGtleSkgfHwgMCkgKyAxKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBkYWlseVJlZ2lzdHJhdGlvbnMgPSBBcnJheS5mcm9tKGRhaWx5TWFwLmVudHJpZXMoKSlcbiAgICAgIC5tYXAoKFtkYXRlLCBjb3VudF0pID0+ICh7IGRhdGUsIGNvdW50IH0pKVxuICAgICAgLnNvcnQoKGEsIGIpID0+IGEuZGF0ZS5sb2NhbGVDb21wYXJlKGIuZGF0ZSkpO1xuXG4gICAgLy8gUHJvZmlsZSBjb21wbGV0ZW5lc3MgZGlzdHJpYnV0aW9uIChzYW1wbGUgZnJvbSByZWNlbnRVc2VycylcbiAgICBsZXQgY29tcGxldGVuZXNzU3VtID0gMDtcbiAgICBjb25zdCBjb21wbGV0ZW5lc3NCdWNrZXRzID0geyAnMC0yNSc6IDAsICcyNi01MCc6IDAsICc1MS03NSc6IDAsICc3Ni0xMDAnOiAwIH0gYXMgUmVjb3JkPHN0cmluZywgbnVtYmVyPjtcbiAgICBsZXQgY29tcGxldGVkT3ZlcjgwID0gMDtcbiAgICByZWNlbnRVc2Vycy5mb3JFYWNoKCh1KSA9PiB7XG4gICAgICBjb25zdCBzY29yZSA9IGNvbXB1dGVQcm9maWxlQ29tcGxldGVuZXNzKHUpO1xuICAgICAgY29tcGxldGVuZXNzU3VtICs9IHNjb3JlO1xuICAgICAgaWYgKHNjb3JlIDw9IDI1KSBjb21wbGV0ZW5lc3NCdWNrZXRzWycwLTI1J10rKztcbiAgICAgIGVsc2UgaWYgKHNjb3JlIDw9IDUwKSBjb21wbGV0ZW5lc3NCdWNrZXRzWycyNi01MCddKys7XG4gICAgICBlbHNlIGlmIChzY29yZSA8PSA3NSkgY29tcGxldGVuZXNzQnVja2V0c1snNTEtNzUnXSsrO1xuICAgICAgZWxzZSBjb21wbGV0ZW5lc3NCdWNrZXRzWyc3Ni0xMDAnXSsrO1xuICAgICAgaWYgKHNjb3JlID49IDgwKSBjb21wbGV0ZWRPdmVyODArKztcbiAgICB9KTtcbiAgICBjb25zdCBhdmdDb21wbGV0ZW5lc3MgPSByZWNlbnRVc2Vycy5sZW5ndGggPiAwID8gTWF0aC5yb3VuZChjb21wbGV0ZW5lc3NTdW0gLyByZWNlbnRVc2Vycy5sZW5ndGgpIDogMDtcblxuICAgIC8vIFZpc2l0b3JzIGFuYWx5dGljcyBmcm9tIGFuYWx5dGljc192aXNpdHMgY29sbGVjdGlvbiAobGFzdCAzMCBkYXlzKVxuICAgIGNvbnN0IHZpc2l0c1EgPSBxdWVyeShcbiAgICAgIGNvbGxlY3Rpb24oZGIsICdhbmFseXRpY3NfdmlzaXRzJyksXG4gICAgICB3aGVyZSgnY3JlYXRlZEF0JywgJz49Jywgc2luY2UpLFxuICAgICAgb3JkZXJCeSgnY3JlYXRlZEF0JywgJ2Rlc2MnKSxcbiAgICAgIGxpbWl0KDUwMDApXG4gICAgKTtcbiAgICBjb25zdCB2aXNpdHNTbmFwID0gYXdhaXQgZ2V0RG9jcyh2aXNpdHNRKTtcbiAgICBjb25zdCB2aXNpdHM6IHsgc2Vzc2lvbklkPzogc3RyaW5nIHwgbnVsbDsgcm91dGU/OiBzdHJpbmcgfCBudWxsOyBjcmVhdGVkQXQ/OiBEYXRlIHwgbnVsbDsgaXA/OiBzdHJpbmcgfCBudWxsOyB1c2VyQWdlbnQ/OiBzdHJpbmcgfCBudWxsOyBnZW8/OiB7IGNvdW50cnk/OiBzdHJpbmcgfCBudWxsOyByZWdpb24/OiBzdHJpbmcgfCBudWxsOyBjaXR5Pzogc3RyaW5nIHwgbnVsbCB9IH1bXSA9IFtdO1xuICAgIHZpc2l0c1NuYXAuZm9yRWFjaCgoZCkgPT4ge1xuICAgICAgY29uc3QgdiA9IGQuZGF0YSgpO1xuICAgICAgdmlzaXRzLnB1c2goe1xuICAgICAgICBzZXNzaW9uSWQ6IHY/LnNlc3Npb25JZCB8fCBudWxsLFxuICAgICAgICByb3V0ZTogdj8ucm91dGUgfHwgbnVsbCxcbiAgICAgICAgY3JlYXRlZEF0OiB0b0RhdGUodj8uY3JlYXRlZEF0KSxcbiAgICAgICAgaXA6IHY/LmlwIHx8IG51bGwsXG4gICAgICAgIHVzZXJBZ2VudDogdj8udXNlckFnZW50IHx8IG51bGwsXG4gICAgICAgIGdlbzoge1xuICAgICAgICAgIGNvdW50cnk6IHY/Lmdlbz8uY291bnRyeSB8fCBudWxsLFxuICAgICAgICAgIHJlZ2lvbjogdj8uZ2VvPy5yZWdpb24gfHwgbnVsbCxcbiAgICAgICAgICBjaXR5OiB2Py5nZW8/LmNpdHkgfHwgbnVsbCxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgY29uc3QgdG90YWxWaXNpdHMgPSB2aXNpdHMubGVuZ3RoO1xuICAgIGNvbnN0IHVuaXF1ZVNlc3Npb25zID0gbmV3IFNldCgodmlzaXRzLm1hcCgodikgPT4gdi5zZXNzaW9uSWQpLmZpbHRlcihCb29sZWFuKSBhcyBzdHJpbmdbXSkpLnNpemU7XG5cbiAgICAvLyBWaXNpdG9ycyBwZXIgZGF5XG4gICAgY29uc3QgdmlzaXRvcnNEYWlseU1hcCA9IG5ldyBNYXA8c3RyaW5nLCBudW1iZXI+KCk7XG4gICAgdmlzaXRzLmZvckVhY2goKHYpID0+IHtcbiAgICAgIGlmICghdi5jcmVhdGVkQXQpIHJldHVybjtcbiAgICAgIGNvbnN0IGtleSA9IGZtdCh2LmNyZWF0ZWRBdCk7XG4gICAgICB2aXNpdG9yc0RhaWx5TWFwLnNldChrZXksICh2aXNpdG9yc0RhaWx5TWFwLmdldChrZXkpIHx8IDApICsgMSk7XG4gICAgfSk7XG4gICAgY29uc3QgZGFpbHlWaXNpdG9ycyA9IEFycmF5LmZyb20odmlzaXRvcnNEYWlseU1hcC5lbnRyaWVzKCkpXG4gICAgICAubWFwKChbZGF0ZSwgY291bnRdKSA9PiAoeyBkYXRlLCBjb3VudCB9KSlcbiAgICAgIC5zb3J0KChhLCBiKSA9PiBhLmRhdGUubG9jYWxlQ29tcGFyZShiLmRhdGUpKTtcblxuICAgIC8vIFRvcCByb3V0ZXNcbiAgICBjb25zdCByb3V0ZU1hcCA9IG5ldyBNYXA8c3RyaW5nLCBudW1iZXI+KCk7XG4gICAgdmlzaXRzLmZvckVhY2goKHYpID0+IHtcbiAgICAgIGNvbnN0IHIgPSAodi5yb3V0ZSB8fCAndW5rbm93bicpIGFzIHN0cmluZztcbiAgICAgIHJvdXRlTWFwLnNldChyLCAocm91dGVNYXAuZ2V0KHIpIHx8IDApICsgMSk7XG4gICAgfSk7XG4gICAgY29uc3QgdG9wUm91dGVzID0gQXJyYXkuZnJvbShyb3V0ZU1hcC5lbnRyaWVzKCkpXG4gICAgICAubWFwKChbcm91dGUsIGNvdW50XSkgPT4gKHsgcm91dGUsIGNvdW50IH0pKVxuICAgICAgLnNvcnQoKGEsIGIpID0+IGIuY291bnQgLSBhLmNvdW50KVxuICAgICAgLnNsaWNlKDAsIDEwKTtcblxuICAgIC8vIEJ5IGNvdW50cnlcbiAgICBjb25zdCBjb3VudHJ5TWFwID0gbmV3IE1hcDxzdHJpbmcsIG51bWJlcj4oKTtcbiAgICB2aXNpdHMuZm9yRWFjaCgodikgPT4ge1xuICAgICAgY29uc3QgYyA9ICh2Lmdlbz8uY291bnRyeSB8fCAnVU5LTk9XTicpIGFzIHN0cmluZztcbiAgICAgIGNvdW50cnlNYXAuc2V0KGMsIChjb3VudHJ5TWFwLmdldChjKSB8fCAwKSArIDEpO1xuICAgIH0pO1xuICAgIGNvbnN0IGJ5Q291bnRyeSA9IEFycmF5LmZyb20oY291bnRyeU1hcC5lbnRyaWVzKCkpXG4gICAgICAubWFwKChbY291bnRyeSwgY291bnRdKSA9PiAoeyBjb3VudHJ5LCBjb3VudCB9KSlcbiAgICAgIC5zb3J0KChhLCBiKSA9PiBiLmNvdW50IC0gYS5jb3VudClcbiAgICAgIC5zbGljZSgwLCAyMCk7XG5cbiAgICAvLyBSZWNlbnQgdmlzaXRzIChsYXN0IDIwKVxuICAgIGNvbnN0IHJlY2VudCA9IHZpc2l0c1xuICAgICAgLmZpbHRlcih2ID0+ICEhdi5jcmVhdGVkQXQpXG4gICAgICAuc2xpY2UoMCwgMjApXG4gICAgICAubWFwKHYgPT4gKHtcbiAgICAgICAgY3JlYXRlZEF0OiAodi5jcmVhdGVkQXQgYXMgRGF0ZSk/LnRvSVNPU3RyaW5nPy4oKSB8fCBudWxsLFxuICAgICAgICByb3V0ZTogdi5yb3V0ZSB8fCBudWxsLFxuICAgICAgICBpcDogdi5pcCB8fCBudWxsLFxuICAgICAgICB1c2VyQWdlbnQ6IHYudXNlckFnZW50IHx8IG51bGwsXG4gICAgICAgIGdlbzogdi5nZW8gfHwge30sXG4gICAgICB9KSk7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgdXNlcnM6IHtcbiAgICAgICAgdG90YWw6IHRvdGFsVXNlcnMsXG4gICAgICAgIGJ5VHlwZTogdXNlckNvdW50cyxcbiAgICAgICAgZGFpbHlSZWdpc3RyYXRpb25zLFxuICAgICAgfSxcbiAgICAgIHZpc2l0b3JzOiB7XG4gICAgICAgIHRvdGFsVmlzaXRzLFxuICAgICAgICB1bmlxdWVTZXNzaW9ucyxcbiAgICAgICAgZGFpbHlWaXNpdG9ycyxcbiAgICAgICAgdG9wUm91dGVzLFxuICAgICAgICBieUNvdW50cnksXG4gICAgICAgIHJlY2VudCxcbiAgICAgIH0sXG4gICAgICBwcm9maWxlczoge1xuICAgICAgICBhdmdDb21wbGV0ZW5lc3MsXG4gICAgICAgIGNvbXBsZXRlZE92ZXI4MCxcbiAgICAgICAgY29tcGxldGVuZXNzQnVja2V0cyxcbiAgICAgICAgc2FtcGxlU2l6ZTogcmVjZW50VXNlcnMubGVuZ3RoLFxuICAgICAgfSxcbiAgICAgIHNpbmNlOiBzaW5jZS50b0lTT1N0cmluZygpLFxuICAgICAgZ2VuZXJhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICB9KTtcbiAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IGU/Lm1lc3NhZ2UgfHwgJ0ZhaWxlZCcgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImRiIiwiY29sbGVjdGlvbiIsImRvYyIsImdldERvY3MiLCJnZXRDb3VudEZyb21TZXJ2ZXIiLCJvcmRlckJ5IiwibGltaXQiLCJxdWVyeSIsInNlcnZlclRpbWVzdGFtcCIsInNldERvYyIsIlRpbWVzdGFtcCIsIndoZXJlIiwiVVNFUl9DT0xMRUNUSU9OUyIsInRvRGF0ZSIsInZhbHVlIiwiRGF0ZSIsImQiLCJpc05hTiIsImdldFRpbWUiLCJzdGFydE9mRGF5IiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsImdldERhdGUiLCJlbmRPZkRheSIsImNvbXB1dGVQcm9maWxlQ29tcGxldGVuZXNzIiwidSIsImZpZWxkcyIsInByZXNlbnQiLCJyZWR1Y2UiLCJhY2MiLCJrZXkiLCJNYXRoIiwicm91bmQiLCJsZW5ndGgiLCJQT1NUIiwicmVxIiwiYm9keSIsImpzb24iLCJjYXRjaCIsImV2ZW50Iiwicm91dGUiLCJzZXNzaW9uSWQiLCJ1c2VySWQiLCJlcnJvciIsInN0YXR1cyIsImhkcnMiLCJoZWFkZXJzIiwieGZmIiwiZ2V0IiwiaXBGcm9tWGZmIiwic3BsaXQiLCJ0cmltIiwiaXAiLCJjb3VudHJ5IiwicmVnaW9uIiwiY2l0eSIsImFjY2VwdExhbmd1YWdlIiwidmlzaXRzQ29sIiwidXNlckFnZW50IiwiZ2VvIiwiY3JlYXRlZEF0Iiwic3VjY2VzcyIsImUiLCJtZXNzYWdlIiwiR0VUIiwibm93IiwiZGF5cyIsInNpbmNlIiwidXNlckNvdW50cyIsInRvdGFsVXNlcnMiLCJjb2xOYW1lIiwic25hcCIsImNvdW50IiwiZGF0YSIsInJlY2VudFVzZXJzIiwicSIsImZvckVhY2giLCJkb2NTbmFwIiwicHVzaCIsImlkIiwiZGFpbHlNYXAiLCJNYXAiLCJmbXQiLCJTdHJpbmciLCJwYWRTdGFydCIsInNldCIsImRhaWx5UmVnaXN0cmF0aW9ucyIsIkFycmF5IiwiZnJvbSIsImVudHJpZXMiLCJtYXAiLCJkYXRlIiwic29ydCIsImEiLCJiIiwibG9jYWxlQ29tcGFyZSIsImNvbXBsZXRlbmVzc1N1bSIsImNvbXBsZXRlbmVzc0J1Y2tldHMiLCJjb21wbGV0ZWRPdmVyODAiLCJzY29yZSIsImF2Z0NvbXBsZXRlbmVzcyIsInZpc2l0c1EiLCJ2aXNpdHNTbmFwIiwidmlzaXRzIiwidiIsInRvdGFsVmlzaXRzIiwidW5pcXVlU2Vzc2lvbnMiLCJTZXQiLCJmaWx0ZXIiLCJCb29sZWFuIiwic2l6ZSIsInZpc2l0b3JzRGFpbHlNYXAiLCJkYWlseVZpc2l0b3JzIiwicm91dGVNYXAiLCJyIiwidG9wUm91dGVzIiwic2xpY2UiLCJjb3VudHJ5TWFwIiwiYyIsImJ5Q291bnRyeSIsInJlY2VudCIsInRvSVNPU3RyaW5nIiwidXNlcnMiLCJ0b3RhbCIsImJ5VHlwZSIsInZpc2l0b3JzIiwicHJvZmlsZXMiLCJzYW1wbGVTaXplIiwiZ2VuZXJhdGVkQXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/analytics/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/firebase/config.ts":
/*!************************************!*\
  !*** ./src/lib/firebase/config.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   analytics: () => (/* binding */ analytics),\n/* harmony export */   app: () => (/* binding */ app),\n/* harmony export */   auth: () => (/* binding */ auth),\n/* harmony export */   checkFirestoreConnection: () => (/* binding */ checkFirestoreConnection),\n/* harmony export */   db: () => (/* binding */ db),\n/* harmony export */   firebaseConfig: () => (/* binding */ firebaseConfig),\n/* harmony export */   geideaConfig: () => (/* binding */ geideaConfig),\n/* harmony export */   hasValidConfig: () => (/* binding */ hasValidConfig),\n/* harmony export */   hasValidGeideaConfig: () => (/* binding */ hasValidGeideaConfig),\n/* harmony export */   missingVars: () => (/* binding */ missingVars),\n/* harmony export */   retryOperation: () => (/* binding */ retryOperation),\n/* harmony export */   storage: () => (/* binding */ storage),\n/* harmony export */   validateFirebaseConfig: () => (/* binding */ validateFirebaseConfig),\n/* harmony export */   validateGeideaConfig: () => (/* binding */ validateGeideaConfig)\n/* harmony export */ });\n/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/app */ \"(rsc)/./node_modules/firebase/app/dist/index.mjs\");\n/* harmony import */ var firebase_analytics__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/analytics */ \"(rsc)/./node_modules/firebase/analytics/dist/index.mjs\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/auth */ \"(rsc)/./node_modules/firebase/auth/dist/index.mjs\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/firestore */ \"(rsc)/./node_modules/firebase/firestore/dist/index.mjs\");\n/* harmony import */ var firebase_storage__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! firebase/storage */ \"(rsc)/./node_modules/firebase/storage/dist/index.mjs\");\n/* harmony import */ var _error_handler__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./error-handler */ \"(rsc)/./src/lib/firebase/error-handler.ts\");\n// src/lib/firebase/config.ts\n\n\n\n\n\n\n// التحقق من متغيرات البيئة\nconst requiredEnvVars = {\n    apiKey: \"AIzaSyDCQQxUbeQQrlty5HnF65-7TK0TB2zB7R4\",\n    authDomain: \"hagzzgo-87884.firebaseapp.com\",\n    projectId: \"hagzzgo-87884\",\n    storageBucket: \"hagzzgo-87884.firebasestorage.app\",\n    messagingSenderId: \"865241332465\",\n    appId: \"1:865241332465:web:158ed5fb2f0a80eecf0750\",\n    measurementId: \"G-RQ3ENTG6KJ\"\n};\n// التحقق من وجود المتغيرات المطلوبة\nconst missingVars = Object.entries(requiredEnvVars).filter(([key, value])=>!value || value === \"your_firebase_api_key_here\" || value === \"your_firebase_api_key\" || value === \"your_project.firebaseapp.com\" || value === \"your_project_id\" || value === \"your_project.appspot.com\" || value === \"your_sender_id\" || value === \"your_app_id\" || value === \"your_measurement_id\" || value.startsWith(\"your_\")).map(([key])=>key);\nconst hasValidConfig = missingVars.length === 0;\n// إظهار تحذير فقط في وضع التطوير وإذا كانت المتغيرات ناقصة\nif (!hasValidConfig && \"development\" === \"development\") {\n    console.warn(\"⚠️ Firebase environment variables are missing or using placeholder values.\");\n    console.warn(\"Missing/placeholder variables:\", missingVars);\n    console.warn(\"Please set proper Firebase configuration in your .env.local file\");\n    console.warn(\"Current Firebase config:\", requiredEnvVars);\n}\n// في وضع الإنتاج، لا نطرح خطأ إذا كانت المتغيرات ناقصة\nif (!hasValidConfig && \"development\" === \"production\") {}\n// تكوين Firebase - استخدام متغيرات البيئة فقط\nconst firebaseConfig = {\n    apiKey: \"AIzaSyDCQQxUbeQQrlty5HnF65-7TK0TB2zB7R4\",\n    authDomain: \"hagzzgo-87884.firebaseapp.com\",\n    projectId: \"hagzzgo-87884\",\n    storageBucket: \"hagzzgo-87884.firebasestorage.app\",\n    messagingSenderId: \"865241332465\",\n    appId: \"1:865241332465:web:158ed5fb2f0a80eecf0750\",\n    measurementId: \"G-RQ3ENTG6KJ\"\n};\n// تكوين Geidea (server-side only) - بدون credentials مكشوفة\nconst geideaConfig = {\n    merchantPublicKey: process.env.GEIDEA_MERCHANT_PUBLIC_KEY || \"3448c010-87b1-41e7-9771-cac444268cfb\",\n    apiPassword: process.env.GEIDEA_API_PASSWORD || \"edfd5eee-fd1b-4932-9ee1-d6d9ba7599f0\",\n    webhookSecret: process.env.GEIDEA_WEBHOOK_SECRET || \"geidea_webhook_secret_production_2024\",\n    baseUrl: process.env.GEIDEA_BASE_URL || \"https://api.merchant.geidea.net\",\n    isTestMode: false\n};\n// التحقق من صحة تكوين Geidea (server-side only)\nconst validateGeideaConfig = ()=>{\n    // لدينا مفاتيح إنتاج حقيقية من لوحة Geidea\n    // لذا نعتبر التكوين صحيح دائماً\n    return true;\n};\nlet app;\nlet auth;\nlet db;\nlet analytics = null;\nlet storage;\n// Initialize Firebase only once\nif (!(0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.getApps)().length) {\n    try {\n        // التحقق من صحة التكوين قبل التهيئة\n        if (!hasValidConfig) {\n            console.warn(\"⚠️ Firebase configuration is missing or invalid\");\n            console.warn(\"Please set proper Firebase configuration in your .env.local file\");\n            console.warn(\"Current config:\", firebaseConfig);\n            // في وضع الإنتاج، لا نطرح خطأ بل نستخدم تكوين افتراضي\n            if (false) {} else {\n                throw new Error(\"Firebase configuration is required for development\");\n            }\n        } else {\n            console.log(\"\\uD83D\\uDD27 Initializing Firebase with config:\", {\n                apiKey: firebaseConfig.apiKey ? \"✅ Set\" : \"❌ Missing\",\n                authDomain: firebaseConfig.authDomain ? \"✅ Set\" : \"❌ Missing\",\n                projectId: firebaseConfig.projectId ? \"✅ Set\" : \"❌ Missing\",\n                storageBucket: firebaseConfig.storageBucket ? \"✅ Set\" : \"❌ Missing\",\n                messagingSenderId: firebaseConfig.messagingSenderId ? \"✅ Set\" : \"❌ Missing\",\n                appId: firebaseConfig.appId ? \"✅ Set\" : \"❌ Missing\",\n                measurementId: firebaseConfig.measurementId ? \"✅ Set\" : \"❌ Missing\"\n            });\n            app = (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.initializeApp)(firebaseConfig);\n            auth = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_2__.getAuth)(app);\n            // Initialize Firestore with robust network settings for flaky networks/proxies\n            db = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.initializeFirestore)(app, {\n                ignoreUndefinedProperties: true,\n                cacheSizeBytes: 50 * 1024 * 1024,\n                // Reduce WebChannel 400 terminate noise by auto switching to long-polling when needed\n                experimentalAutoDetectLongPolling: true,\n                useFetchStreams: false\n            });\n            // Note: Firestore network is enabled by default. Avoid toggling it at runtime to prevent race conditions.\n            storage = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_4__.getStorage)(app);\n            // Initialize Analytics in browser only\n            if (false) {}\n            console.log(\"✅ Firebase initialized successfully\");\n            // إضافة error handling للـ Firestore\n            if (db) {\n                (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.enableNetwork)(db).catch((err)=>{\n                    console.warn(\"⚠️ Firestore network enable failed:\", err);\n                });\n            }\n        }\n    } catch (error) {\n        if ((0,_error_handler__WEBPACK_IMPORTED_MODULE_5__.shouldSuppressFirebaseError)(error)) {\n            (0,_error_handler__WEBPACK_IMPORTED_MODULE_5__.logFirebaseError)(error, \"Firebase initialization\");\n        } else {\n            console.error(\"❌ Firebase initialization error:\", error);\n            console.error(\"Firebase config used:\", firebaseConfig);\n            throw error;\n        }\n    }\n} else {\n    app = (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.getApps)()[0];\n    auth = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_2__.getAuth)(app);\n    db = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.getFirestore)(app);\n    storage = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_4__.getStorage)(app);\n    if (false) {}\n}\n// التحقق من صحة تكوين Firebase\nfunction validateFirebaseConfig() {\n    const requiredFields = [\n        \"apiKey\",\n        \"authDomain\",\n        \"projectId\",\n        \"storageBucket\",\n        \"messagingSenderId\",\n        \"appId\"\n    ];\n    const missingFields = requiredFields.filter((field)=>{\n        const value = firebaseConfig[field];\n        return !value || value === \"your_firebase_api_key_here\" || value === \"your_firebase_api_key\" || value === \"your_project.firebaseapp.com\" || value === \"your_project_id\" || value === \"your_project.appspot.com\" || value === \"your_sender_id\" || value === \"your_app_id\" || value === \"your_measurement_id\" || value && value.startsWith(\"your_\");\n    });\n    if (missingFields.length > 0) {\n        console.error(\"❌ Firebase configuration missing required fields:\", missingFields);\n        return false;\n    }\n    return true;\n}\n// Enhanced Firestore connection check\nconst checkFirestoreConnection = async ()=>{\n    try {\n        // In development, skip strict connection checks to avoid false negatives from local environments\n        if (true) {\n            return true;\n        }\n        // Perform a lightweight read; do not toggle network at runtime\n        const testRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.doc)(db, \"_meta\", \"__healthcheck__\");\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_3__.getDoc)(testRef);\n        console.log(\"✅ Firestore connection verified\");\n        return true;\n    } catch (error) {\n        // If rules block the doc, connectivity still works\n        if (error?.code === \"permission-denied\") {\n            console.log(\"✅ Firestore reachable (permission-denied on health doc)\");\n            return true;\n        }\n        console.error(\"❌ Firestore connection failed:\", error);\n        return false;\n    }\n};\n// Enhanced retry operation with better error handling\nconst retryOperation = async (operation, maxRetries = 3, baseDelay = 1000)=>{\n    let lastError;\n    for(let attempt = 0; attempt <= maxRetries; attempt++){\n        try {\n            return await operation();\n        } catch (error) {\n            lastError = error;\n            // Check if it's a network-related error\n            const isNetworkError = error instanceof Error && (error.message.includes(\"network\") || error.message.includes(\"connection\") || error.message.includes(\"timeout\"));\n            if (attempt === maxRetries || !isNetworkError) {\n                console.error(`❌ Operation failed after ${attempt + 1} attempts:`, error);\n                throw lastError;\n            }\n            // Exponential backoff with jitter\n            const delay = baseDelay * Math.pow(2, attempt) + Math.random() * 1000;\n            console.log(`🔄 Retry attempt ${attempt + 1}/${maxRetries} in ${Math.round(delay)}ms`);\n            await new Promise((resolve)=>setTimeout(resolve, delay));\n        }\n    }\n    throw lastError;\n};\n// التحقق من تكوين Geidea\nconst hasValidGeideaConfig = validateGeideaConfig();\nif (true) {\n    console.log(\"✅ Geidea configuration validated with TEST credentials\");\n}\n// تصدير الخدمات المهيأة\n\n// Export configuration for debugging\n\n// Export validation functions\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VUFBVztRQUN0RCxJQUFJO1lBQ0YsT0FBTyxNQUFNSjtRQUNmLEVBQUUsT0FBT1gsT0FBTztZQUNkYyxZQUFZZDtZQUVaLHdDQUF3QztZQUN4QyxNQUFNZ0IsaUJBQWlCaEIsaUJBQWlCTixTQUN0Q00sQ0FBQUEsTUFBTWlCLE9BQU8sQ0FBQ0MsUUFBUSxDQUFDLGNBQ3ZCbEIsTUFBTWlCLE9BQU8sQ0FBQ0MsUUFBUSxDQUFDLGlCQUN2QmxCLE1BQU1pQixPQUFPLENBQUNDLFFBQVEsQ0FBQyxVQUFTO1lBR2xDLElBQUlILFlBQVlILGNBQWMsQ0FBQ0ksZ0JBQWdCO2dCQUM3QzFDLFFBQVEwQixLQUFLLENBQUMsQ0FBQyx5QkFBeUIsRUFBRWUsVUFBVSxFQUFFLFVBQVUsQ0FBQyxFQUFFZjtnQkFDbkUsTUFBTWM7WUFDUjtZQUVBLGtDQUFrQztZQUNsQyxNQUFNSyxRQUFRTixZQUFZTyxLQUFLQyxHQUFHLENBQUMsR0FBR04sV0FBV0ssS0FBS0UsTUFBTSxLQUFLO1lBQ2pFaEQsUUFBUXFCLEdBQUcsQ0FBQyxDQUFDLGlCQUFpQixFQUFFb0IsVUFBVSxFQUFFLENBQUMsRUFBRUgsV0FBVyxJQUFJLEVBQUVRLEtBQUtHLEtBQUssQ0FBQ0osT0FBTyxFQUFFLENBQUM7WUFDckYsTUFBTSxJQUFJSyxRQUFRQyxDQUFBQSxVQUFXQyxXQUFXRCxTQUFTTjtRQUNuRDtJQUNGO0lBRUEsTUFBTUw7QUFDUixFQUFFO0FBRUYseUJBQXlCO0FBQ3pCLE1BQU1hLHVCQUF1QnhDO0FBQzdCLElBQUl0QyxJQUF5QixFQUFlO0lBQzFDeUIsUUFBUXFCLEdBQUcsQ0FBQztBQUNkO0FBRUEsd0JBQXdCO0FBQ3FCO0FBRTdDLHFDQUFxQztBQUN3QztBQUU3RSw4QkFBOEI7QUFDMEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lbDdsbS8uL3NyYy9saWIvZmlyZWJhc2UvY29uZmlnLnRzPzc3YzkiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2xpYi9maXJlYmFzZS9jb25maWcudHNcclxuaW1wb3J0IHsgaW5pdGlhbGl6ZUFwcCwgZ2V0QXBwcywgRmlyZWJhc2VBcHAgfSBmcm9tIFwiZmlyZWJhc2UvYXBwXCI7XHJcbmltcG9ydCB7IGdldEFuYWx5dGljcywgQW5hbHl0aWNzIH0gZnJvbSBcImZpcmViYXNlL2FuYWx5dGljc1wiO1xyXG5pbXBvcnQgeyBnZXRBdXRoLCBBdXRoIH0gZnJvbSBcImZpcmViYXNlL2F1dGhcIjtcclxuaW1wb3J0IHsgXHJcbiAgZ2V0RmlyZXN0b3JlLCBcclxuICBGaXJlc3RvcmUsIFxyXG4gIGNvbm5lY3RGaXJlc3RvcmVFbXVsYXRvcixcclxuICBkaXNhYmxlTmV0d29yayxcclxuICBlbmFibGVOZXR3b3JrLFxyXG4gIGNvbm5lY3RGaXJlc3RvcmVFbXVsYXRvciBhcyBjb25uZWN0RmlyZXN0b3JlRW11bGF0b3JGbixcclxuICBkb2MsXHJcbiAgZ2V0RG9jLFxyXG4gIGluaXRpYWxpemVGaXJlc3RvcmVcclxufSBmcm9tIFwiZmlyZWJhc2UvZmlyZXN0b3JlXCI7XHJcbmltcG9ydCB7IGdldFN0b3JhZ2UsIEZpcmViYXNlU3RvcmFnZSB9IGZyb20gXCJmaXJlYmFzZS9zdG9yYWdlXCI7XHJcbmltcG9ydCB7IGxvZ0ZpcmViYXNlRXJyb3IsIHNob3VsZFN1cHByZXNzRmlyZWJhc2VFcnJvciB9IGZyb20gXCIuL2Vycm9yLWhhbmRsZXJcIjtcclxuXHJcbi8vINin2YTYqtit2YLZgiDZhdmGINmF2KrYutmK2LHYp9iqINin2YTYqNmK2KbYqVxyXG5jb25zdCByZXF1aXJlZEVudlZhcnMgPSB7XHJcbiAgYXBpS2V5OiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9BUElfS0VZLFxyXG4gIGF1dGhEb21haW46IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FVVEhfRE9NQUlOLFxyXG4gIHByb2plY3RJZDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfUFJPSkVDVF9JRCxcclxuICBzdG9yYWdlQnVja2V0OiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9TVE9SQUdFX0JVQ0tFVCxcclxuICBtZXNzYWdpbmdTZW5kZXJJZDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfTUVTU0FHSU5HX1NFTkRFUl9JRCxcclxuICBhcHBJZDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfQVBQX0lELFxyXG4gIG1lYXN1cmVtZW50SWQ6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX01FQVNVUkVNRU5UX0lEXHJcbn07XHJcblxyXG4vLyDYp9mE2KrYrdmC2YIg2YXZhiDZiNis2YjYryDYp9mE2YXYqti62YrYsdin2Kog2KfZhNmF2LfZhNmI2KjYqVxyXG5jb25zdCBtaXNzaW5nVmFycyA9IE9iamVjdC5lbnRyaWVzKHJlcXVpcmVkRW52VmFycylcclxuICAuZmlsdGVyKChba2V5LCB2YWx1ZV0pID0+ICF2YWx1ZSB8fCBcclxuICAgIHZhbHVlID09PSAneW91cl9maXJlYmFzZV9hcGlfa2V5X2hlcmUnIHx8IFxyXG4gICAgdmFsdWUgPT09ICd5b3VyX2ZpcmViYXNlX2FwaV9rZXknIHx8XHJcbiAgICB2YWx1ZSA9PT0gJ3lvdXJfcHJvamVjdC5maXJlYmFzZWFwcC5jb20nIHx8XHJcbiAgICB2YWx1ZSA9PT0gJ3lvdXJfcHJvamVjdF9pZCcgfHxcclxuICAgIHZhbHVlID09PSAneW91cl9wcm9qZWN0LmFwcHNwb3QuY29tJyB8fFxyXG4gICAgdmFsdWUgPT09ICd5b3VyX3NlbmRlcl9pZCcgfHxcclxuICAgIHZhbHVlID09PSAneW91cl9hcHBfaWQnIHx8XHJcbiAgICB2YWx1ZSA9PT0gJ3lvdXJfbWVhc3VyZW1lbnRfaWQnIHx8XHJcbiAgICB2YWx1ZS5zdGFydHNXaXRoKCd5b3VyXycpKVxyXG4gIC5tYXAoKFtrZXldKSA9PiBrZXkpO1xyXG5cclxuY29uc3QgaGFzVmFsaWRDb25maWcgPSBtaXNzaW5nVmFycy5sZW5ndGggPT09IDA7XHJcblxyXG4vLyDYpdi42YfYp9ixINiq2K3YsNmK2LEg2YHZgti3INmB2Yog2YjYtti5INin2YTYqti32YjZitixINmI2KXYsNinINmD2KfZhtiqINin2YTZhdiq2LrZitix2KfYqiDZhtin2YLYtdipXHJcbmlmICghaGFzVmFsaWRDb25maWcgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcclxuICBjb25zb2xlLndhcm4oJ+KaoO+4jyBGaXJlYmFzZSBlbnZpcm9ubWVudCB2YXJpYWJsZXMgYXJlIG1pc3Npbmcgb3IgdXNpbmcgcGxhY2Vob2xkZXIgdmFsdWVzLicpO1xyXG4gIGNvbnNvbGUud2FybignTWlzc2luZy9wbGFjZWhvbGRlciB2YXJpYWJsZXM6JywgbWlzc2luZ1ZhcnMpO1xyXG4gIGNvbnNvbGUud2FybignUGxlYXNlIHNldCBwcm9wZXIgRmlyZWJhc2UgY29uZmlndXJhdGlvbiBpbiB5b3VyIC5lbnYubG9jYWwgZmlsZScpO1xyXG4gIGNvbnNvbGUud2FybignQ3VycmVudCBGaXJlYmFzZSBjb25maWc6JywgcmVxdWlyZWRFbnZWYXJzKTtcclxufVxyXG5cclxuLy8g2YHZiiDZiNi22Lkg2KfZhNil2YbYqtin2KzYjCDZhNinINmG2LfYsditINiu2LfYoyDYpdiw2Kcg2YPYp9mG2Kog2KfZhNmF2KrYutmK2LHYp9iqINmG2KfZgti12KlcclxuaWYgKCFoYXNWYWxpZENvbmZpZyAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgY29uc29sZS53YXJuKCfimqDvuI8gRmlyZWJhc2UgY29uZmlndXJhdGlvbiBpcyBtaXNzaW5nIGluIHByb2R1Y3Rpb24uIFNvbWUgZmVhdHVyZXMgbWF5IG5vdCB3b3JrLicpO1xyXG59XHJcblxyXG4vLyDYqtmD2YjZitmGIEZpcmViYXNlIC0g2KfYs9iq2K7Yr9in2YUg2YXYqti62YrYsdin2Kog2KfZhNio2YrYptipINmB2YLYt1xyXG5jb25zdCBmaXJlYmFzZUNvbmZpZyA9IHtcclxuICBhcGlLZXk6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FQSV9LRVksXHJcbiAgYXV0aERvbWFpbjogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfQVVUSF9ET01BSU4sXHJcbiAgcHJvamVjdElkOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9QUk9KRUNUX0lELFxyXG4gIHN0b3JhZ2VCdWNrZXQ6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX1NUT1JBR0VfQlVDS0VULFxyXG4gIG1lc3NhZ2luZ1NlbmRlcklkOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9NRVNTQUdJTkdfU0VOREVSX0lELFxyXG4gIGFwcElkOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9BUFBfSUQsXHJcbiAgbWVhc3VyZW1lbnRJZDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfTUVBU1VSRU1FTlRfSURcclxufTtcclxuXHJcbi8vINiq2YPZiNmK2YYgR2VpZGVhIChzZXJ2ZXItc2lkZSBvbmx5KSAtINio2K/ZiNmGIGNyZWRlbnRpYWxzINmF2YPYtNmI2YHYqVxyXG5leHBvcnQgY29uc3QgZ2VpZGVhQ29uZmlnID0ge1xyXG4gIG1lcmNoYW50UHVibGljS2V5OiBwcm9jZXNzLmVudi5HRUlERUFfTUVSQ0hBTlRfUFVCTElDX0tFWSB8fCAnMzQ0OGMwMTAtODdiMS00MWU3LTk3NzEtY2FjNDQ0MjY4Y2ZiJyxcclxuICBhcGlQYXNzd29yZDogcHJvY2Vzcy5lbnYuR0VJREVBX0FQSV9QQVNTV09SRCB8fCAnZWRmZDVlZWUtZmQxYi00OTMyLTllZTEtZDZkOWJhNzU5OWYwJyxcclxuICB3ZWJob29rU2VjcmV0OiBwcm9jZXNzLmVudi5HRUlERUFfV0VCSE9PS19TRUNSRVQgfHwgJ2dlaWRlYV93ZWJob29rX3NlY3JldF9wcm9kdWN0aW9uXzIwMjQnLFxyXG4gIGJhc2VVcmw6IHByb2Nlc3MuZW52LkdFSURFQV9CQVNFX1VSTCB8fCAnaHR0cHM6Ly9hcGkubWVyY2hhbnQuZ2VpZGVhLm5ldCcsXHJcbiAgaXNUZXN0TW9kZTogZmFsc2VcclxufTtcclxuXHJcbi8vINin2YTYqtit2YLZgiDZhdmGINi12K3YqSDYqtmD2YjZitmGIEdlaWRlYSAoc2VydmVyLXNpZGUgb25seSlcclxuY29uc3QgdmFsaWRhdGVHZWlkZWFDb25maWcgPSAoKSA9PiB7XHJcbiAgLy8g2YTYr9mK2YbYpyDZhdmB2KfYqtmK2K0g2KXZhtiq2KfYrCDYrdmC2YrZgtmK2Kkg2YXZhiDZhNmI2K3YqSBHZWlkZWFcclxuICAvLyDZhNiw2Kcg2YbYudiq2KjYsSDYp9mE2KrZg9mI2YrZhiDYtdit2YrYrSDYr9in2KbZhdin2YtcclxuICByZXR1cm4gdHJ1ZTtcclxufTtcclxuXHJcbmxldCBhcHA6IEZpcmViYXNlQXBwO1xyXG5sZXQgYXV0aDogQXV0aDtcclxubGV0IGRiOiBGaXJlc3RvcmU7XHJcbmxldCBhbmFseXRpY3M6IEFuYWx5dGljcyB8IG51bGwgPSBudWxsO1xyXG5sZXQgc3RvcmFnZTogRmlyZWJhc2VTdG9yYWdlO1xyXG5cclxuLy8gSW5pdGlhbGl6ZSBGaXJlYmFzZSBvbmx5IG9uY2VcclxuaWYgKCFnZXRBcHBzKCkubGVuZ3RoKSB7XHJcbiAgdHJ5IHtcclxuICAgIC8vINin2YTYqtit2YLZgiDZhdmGINi12K3YqSDYp9mE2KrZg9mI2YrZhiDZgtio2YQg2KfZhNiq2YfZitim2KlcclxuICAgIGlmICghaGFzVmFsaWRDb25maWcpIHtcclxuICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gRmlyZWJhc2UgY29uZmlndXJhdGlvbiBpcyBtaXNzaW5nIG9yIGludmFsaWQnKTtcclxuICAgICAgY29uc29sZS53YXJuKCdQbGVhc2Ugc2V0IHByb3BlciBGaXJlYmFzZSBjb25maWd1cmF0aW9uIGluIHlvdXIgLmVudi5sb2NhbCBmaWxlJyk7XHJcbiAgICAgIGNvbnNvbGUud2FybignQ3VycmVudCBjb25maWc6JywgZmlyZWJhc2VDb25maWcpO1xyXG4gICAgICBcclxuICAgICAgLy8g2YHZiiDZiNi22Lkg2KfZhNil2YbYqtin2KzYjCDZhNinINmG2LfYsditINiu2LfYoyDYqNmEINmG2LPYqtiu2K/ZhSDYqtmD2YjZitmGINin2YHYqtix2KfYttmKXHJcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gVXNpbmcgZmFsbGJhY2sgY29uZmlndXJhdGlvbiBmb3IgcHJvZHVjdGlvbiBidWlsZCcpO1xyXG4gICAgICAgIC8vINin2LPYqtiu2K/Yp9mFINiq2YPZiNmK2YYg2KfZgdiq2LHYp9i22Yog2YTZhNio2YbYp9ihXHJcbiAgICAgICAgY29uc3QgZmFsbGJhY2tDb25maWcgPSB7XHJcbiAgICAgICAgICBhcGlLZXk6ICdmYWxsYmFja19hcGlfa2V5JyxcclxuICAgICAgICAgIGF1dGhEb21haW46ICdmYWxsYmFjay5maXJlYmFzZWFwcC5jb20nLFxyXG4gICAgICAgICAgcHJvamVjdElkOiAnZmFsbGJhY2tfcHJvamVjdCcsXHJcbiAgICAgICAgICBzdG9yYWdlQnVja2V0OiAnZmFsbGJhY2suYXBwc3BvdC5jb20nLFxyXG4gICAgICAgICAgbWVzc2FnaW5nU2VuZGVySWQ6ICcxMjM0NTY3ODknLFxyXG4gICAgICAgICAgYXBwSWQ6ICdmYWxsYmFja19hcHBfaWQnLFxyXG4gICAgICAgICAgbWVhc3VyZW1lbnRJZDogJ2ZhbGxiYWNrX21lYXN1cmVtZW50X2lkJ1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgYXBwID0gaW5pdGlhbGl6ZUFwcChmYWxsYmFja0NvbmZpZyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGaXJlYmFzZSBjb25maWd1cmF0aW9uIGlzIHJlcXVpcmVkIGZvciBkZXZlbG9wbWVudCcpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgY29uc29sZS5sb2coJ/CflKcgSW5pdGlhbGl6aW5nIEZpcmViYXNlIHdpdGggY29uZmlnOicsIHtcclxuICAgICAgYXBpS2V5OiBmaXJlYmFzZUNvbmZpZy5hcGlLZXkgPyAn4pyFIFNldCcgOiAn4p2MIE1pc3NpbmcnLFxyXG4gICAgICBhdXRoRG9tYWluOiBmaXJlYmFzZUNvbmZpZy5hdXRoRG9tYWluID8gJ+KchSBTZXQnIDogJ+KdjCBNaXNzaW5nJyxcclxuICAgICAgcHJvamVjdElkOiBmaXJlYmFzZUNvbmZpZy5wcm9qZWN0SWQgPyAn4pyFIFNldCcgOiAn4p2MIE1pc3NpbmcnLFxyXG4gICAgICBzdG9yYWdlQnVja2V0OiBmaXJlYmFzZUNvbmZpZy5zdG9yYWdlQnVja2V0ID8gJ+KchSBTZXQnIDogJ+KdjCBNaXNzaW5nJyxcclxuICAgICAgbWVzc2FnaW5nU2VuZGVySWQ6IGZpcmViYXNlQ29uZmlnLm1lc3NhZ2luZ1NlbmRlcklkID8gJ+KchSBTZXQnIDogJ+KdjCBNaXNzaW5nJyxcclxuICAgICAgYXBwSWQ6IGZpcmViYXNlQ29uZmlnLmFwcElkID8gJ+KchSBTZXQnIDogJ+KdjCBNaXNzaW5nJyxcclxuICAgICAgbWVhc3VyZW1lbnRJZDogZmlyZWJhc2VDb25maWcubWVhc3VyZW1lbnRJZCA/ICfinIUgU2V0JyA6ICfinYwgTWlzc2luZydcclxuICAgIH0pO1xyXG5cclxuICAgIGFwcCA9IGluaXRpYWxpemVBcHAoZmlyZWJhc2VDb25maWcpO1xyXG4gICAgYXV0aCA9IGdldEF1dGgoYXBwKTtcclxuXHJcbiAgICAvLyBJbml0aWFsaXplIEZpcmVzdG9yZSB3aXRoIHJvYnVzdCBuZXR3b3JrIHNldHRpbmdzIGZvciBmbGFreSBuZXR3b3Jrcy9wcm94aWVzXHJcbiAgICBkYiA9IGluaXRpYWxpemVGaXJlc3RvcmUoYXBwLCB7XHJcbiAgICAgIGlnbm9yZVVuZGVmaW5lZFByb3BlcnRpZXM6IHRydWUsXHJcbiAgICAgIGNhY2hlU2l6ZUJ5dGVzOiA1MCAqIDEwMjQgKiAxMDI0LCAvLyA1ME1CIGNhY2hlXHJcbiAgICAgIC8vIFJlZHVjZSBXZWJDaGFubmVsIDQwMCB0ZXJtaW5hdGUgbm9pc2UgYnkgYXV0byBzd2l0Y2hpbmcgdG8gbG9uZy1wb2xsaW5nIHdoZW4gbmVlZGVkXHJcbiAgICAgIGV4cGVyaW1lbnRhbEF1dG9EZXRlY3RMb25nUG9sbGluZzogdHJ1ZSxcclxuICAgICAgdXNlRmV0Y2hTdHJlYW1zOiBmYWxzZVxyXG4gICAgfSBhcyBhbnkpO1xyXG4gICAgXHJcbiAgICAvLyBOb3RlOiBGaXJlc3RvcmUgbmV0d29yayBpcyBlbmFibGVkIGJ5IGRlZmF1bHQuIEF2b2lkIHRvZ2dsaW5nIGl0IGF0IHJ1bnRpbWUgdG8gcHJldmVudCByYWNlIGNvbmRpdGlvbnMuXHJcblxyXG4gICAgc3RvcmFnZSA9IGdldFN0b3JhZ2UoYXBwKTtcclxuXHJcbiAgICAvLyBJbml0aWFsaXplIEFuYWx5dGljcyBpbiBicm93c2VyIG9ubHlcclxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGFuYWx5dGljcyA9IGdldEFuYWx5dGljcyhhcHApO1xyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIC8vINil2K7Zgdin2KEg2KPYrti32KfYoSBBbmFseXRpY3Mg2YHZiiDZiNi22Lkg2KfZhNiq2LfZiNmK2LFcclxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcclxuICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIEFuYWx5dGljcyBpbml0aWFsaXphdGlvbiBmYWlsZWQgKGRldmVsb3BtZW50IG1vZGUpJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnNvbGUud2FybignQW5hbHl0aWNzIGluaXRpYWxpemF0aW9uIGZhaWxlZDonLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFuYWx5dGljcyA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZygn4pyFIEZpcmViYXNlIGluaXRpYWxpemVkIHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgXHJcbiAgICAvLyDYpdi22KfZgdipIGVycm9yIGhhbmRsaW5nINmE2YTZgCBGaXJlc3RvcmVcclxuICAgIGlmIChkYikge1xyXG4gICAgICBlbmFibGVOZXR3b3JrKGRiKS5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIEZpcmVzdG9yZSBuZXR3b3JrIGVuYWJsZSBmYWlsZWQ6JywgZXJyKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICB9XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGlmIChzaG91bGRTdXBwcmVzc0ZpcmViYXNlRXJyb3IoZXJyb3IpKSB7XHJcbiAgICAgIGxvZ0ZpcmViYXNlRXJyb3IoZXJyb3IsICdGaXJlYmFzZSBpbml0aWFsaXphdGlvbicpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIEZpcmViYXNlIGluaXRpYWxpemF0aW9uIGVycm9yOicsIGVycm9yKTtcclxuICAgICAgY29uc29sZS5lcnJvcignRmlyZWJhc2UgY29uZmlnIHVzZWQ6JywgZmlyZWJhc2VDb25maWcpO1xyXG4gICAgICB0aHJvdyBlcnJvcjtcclxuICAgIH1cclxuICB9XHJcbn0gZWxzZSB7XHJcbiAgYXBwID0gZ2V0QXBwcygpWzBdO1xyXG4gIGF1dGggPSBnZXRBdXRoKGFwcCk7XHJcbiAgZGIgPSBnZXRGaXJlc3RvcmUoYXBwKTtcclxuICBzdG9yYWdlID0gZ2V0U3RvcmFnZShhcHApO1xyXG4gIFxyXG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiAhYW5hbHl0aWNzKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBhbmFseXRpY3MgPSBnZXRBbmFseXRpY3MoYXBwKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIC8vINil2K7Zgdin2KEg2KPYrti32KfYoSBBbmFseXRpY3Mg2YHZiiDZiNi22Lkg2KfZhNiq2LfZiNmK2LFcclxuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gQW5hbHl0aWNzIGluaXRpYWxpemF0aW9uIGZhaWxlZCAoZGV2ZWxvcG1lbnQgbW9kZSknKTtcclxuICAgICAgfVxyXG4gICAgICBhbmFseXRpY3MgPSBudWxsO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy8g2KfZhNiq2K3ZgtmCINmF2YYg2LXYrdipINiq2YPZiNmK2YYgRmlyZWJhc2VcclxuZnVuY3Rpb24gdmFsaWRhdGVGaXJlYmFzZUNvbmZpZygpIHtcclxuICBjb25zdCByZXF1aXJlZEZpZWxkcyA9IFtcclxuICAgICdhcGlLZXknLFxyXG4gICAgJ2F1dGhEb21haW4nLCBcclxuICAgICdwcm9qZWN0SWQnLFxyXG4gICAgJ3N0b3JhZ2VCdWNrZXQnLFxyXG4gICAgJ21lc3NhZ2luZ1NlbmRlcklkJyxcclxuICAgICdhcHBJZCdcclxuICBdO1xyXG5cclxuICBjb25zdCBtaXNzaW5nRmllbGRzID0gcmVxdWlyZWRGaWVsZHMuZmlsdGVyKGZpZWxkID0+IHtcclxuICAgIGNvbnN0IHZhbHVlID0gZmlyZWJhc2VDb25maWdbZmllbGQgYXMga2V5b2YgdHlwZW9mIGZpcmViYXNlQ29uZmlnXTtcclxuICAgIHJldHVybiAhdmFsdWUgfHwgXHJcbiAgICAgICAgICAgdmFsdWUgPT09ICd5b3VyX2ZpcmViYXNlX2FwaV9rZXlfaGVyZScgfHwgXHJcbiAgICAgICAgICAgdmFsdWUgPT09ICd5b3VyX2ZpcmViYXNlX2FwaV9rZXknIHx8XHJcbiAgICAgICAgICAgdmFsdWUgPT09ICd5b3VyX3Byb2plY3QuZmlyZWJhc2VhcHAuY29tJyB8fFxyXG4gICAgICAgICAgIHZhbHVlID09PSAneW91cl9wcm9qZWN0X2lkJyB8fFxyXG4gICAgICAgICAgIHZhbHVlID09PSAneW91cl9wcm9qZWN0LmFwcHNwb3QuY29tJyB8fFxyXG4gICAgICAgICAgIHZhbHVlID09PSAneW91cl9zZW5kZXJfaWQnIHx8XHJcbiAgICAgICAgICAgdmFsdWUgPT09ICd5b3VyX2FwcF9pZCcgfHxcclxuICAgICAgICAgICB2YWx1ZSA9PT0gJ3lvdXJfbWVhc3VyZW1lbnRfaWQnIHx8XHJcbiAgICAgICAgICAgKHZhbHVlICYmIHZhbHVlLnN0YXJ0c1dpdGgoJ3lvdXJfJykpO1xyXG4gIH0pO1xyXG5cclxuICBpZiAobWlzc2luZ0ZpZWxkcy5sZW5ndGggPiAwKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCfinYwgRmlyZWJhc2UgY29uZmlndXJhdGlvbiBtaXNzaW5nIHJlcXVpcmVkIGZpZWxkczonLCBtaXNzaW5nRmllbGRzKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG4vLyBFbmhhbmNlZCBGaXJlc3RvcmUgY29ubmVjdGlvbiBjaGVja1xyXG5leHBvcnQgY29uc3QgY2hlY2tGaXJlc3RvcmVDb25uZWN0aW9uID0gYXN5bmMgKCkgPT4ge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBJbiBkZXZlbG9wbWVudCwgc2tpcCBzdHJpY3QgY29ubmVjdGlvbiBjaGVja3MgdG8gYXZvaWQgZmFsc2UgbmVnYXRpdmVzIGZyb20gbG9jYWwgZW52aXJvbm1lbnRzXHJcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIC8vIFBlcmZvcm0gYSBsaWdodHdlaWdodCByZWFkOyBkbyBub3QgdG9nZ2xlIG5ldHdvcmsgYXQgcnVudGltZVxyXG4gICAgY29uc3QgdGVzdFJlZiA9IGRvYyhkYiwgJ19tZXRhJywgJ19faGVhbHRoY2hlY2tfXycpO1xyXG4gICAgYXdhaXQgZ2V0RG9jKHRlc3RSZWYpO1xyXG4gICAgY29uc29sZS5sb2coJ+KchSBGaXJlc3RvcmUgY29ubmVjdGlvbiB2ZXJpZmllZCcpO1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgLy8gSWYgcnVsZXMgYmxvY2sgdGhlIGRvYywgY29ubmVjdGl2aXR5IHN0aWxsIHdvcmtzXHJcbiAgICBpZiAoZXJyb3I/LmNvZGUgPT09ICdwZXJtaXNzaW9uLWRlbmllZCcpIHtcclxuICAgICAgY29uc29sZS5sb2coJ+KchSBGaXJlc3RvcmUgcmVhY2hhYmxlIChwZXJtaXNzaW9uLWRlbmllZCBvbiBoZWFsdGggZG9jKScpO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGaXJlc3RvcmUgY29ubmVjdGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufTtcclxuXHJcbi8vIEVuaGFuY2VkIHJldHJ5IG9wZXJhdGlvbiB3aXRoIGJldHRlciBlcnJvciBoYW5kbGluZ1xyXG5leHBvcnQgY29uc3QgcmV0cnlPcGVyYXRpb24gPSBhc3luYyA8VD4oXHJcbiAgb3BlcmF0aW9uOiAoKSA9PiBQcm9taXNlPFQ+LFxyXG4gIG1heFJldHJpZXM6IG51bWJlciA9IDMsXHJcbiAgYmFzZURlbGF5OiBudW1iZXIgPSAxMDAwXHJcbik6IFByb21pc2U8VD4gPT4ge1xyXG4gIGxldCBsYXN0RXJyb3I6IEVycm9yO1xyXG4gIFxyXG4gIGZvciAobGV0IGF0dGVtcHQgPSAwOyBhdHRlbXB0IDw9IG1heFJldHJpZXM7IGF0dGVtcHQrKykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgcmV0dXJuIGF3YWl0IG9wZXJhdGlvbigpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgbGFzdEVycm9yID0gZXJyb3IgYXMgRXJyb3I7XHJcbiAgICAgIFxyXG4gICAgICAvLyBDaGVjayBpZiBpdCdzIGEgbmV0d29yay1yZWxhdGVkIGVycm9yXHJcbiAgICAgIGNvbnN0IGlzTmV0d29ya0Vycm9yID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiAoXHJcbiAgICAgICAgZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnbmV0d29yaycpIHx8XHJcbiAgICAgICAgZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnY29ubmVjdGlvbicpIHx8XHJcbiAgICAgICAgZXJyb3IubWVzc2FnZS5pbmNsdWRlcygndGltZW91dCcpXHJcbiAgICAgICk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoYXR0ZW1wdCA9PT0gbWF4UmV0cmllcyB8fCAhaXNOZXR3b3JrRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGDinYwgT3BlcmF0aW9uIGZhaWxlZCBhZnRlciAke2F0dGVtcHQgKyAxfSBhdHRlbXB0czpgLCBlcnJvcik7XHJcbiAgICAgICAgdGhyb3cgbGFzdEVycm9yO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBFeHBvbmVudGlhbCBiYWNrb2ZmIHdpdGggaml0dGVyXHJcbiAgICAgIGNvbnN0IGRlbGF5ID0gYmFzZURlbGF5ICogTWF0aC5wb3coMiwgYXR0ZW1wdCkgKyBNYXRoLnJhbmRvbSgpICogMTAwMDtcclxuICAgICAgY29uc29sZS5sb2coYPCflIQgUmV0cnkgYXR0ZW1wdCAke2F0dGVtcHQgKyAxfS8ke21heFJldHJpZXN9IGluICR7TWF0aC5yb3VuZChkZWxheSl9bXNgKTtcclxuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIGRlbGF5KSk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIHRocm93IGxhc3RFcnJvciE7XHJcbn07XHJcblxyXG4vLyDYp9mE2KrYrdmC2YIg2YXZhiDYqtmD2YjZitmGIEdlaWRlYVxyXG5jb25zdCBoYXNWYWxpZEdlaWRlYUNvbmZpZyA9IHZhbGlkYXRlR2VpZGVhQ29uZmlnKCk7XHJcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xyXG4gIGNvbnNvbGUubG9nKCfinIUgR2VpZGVhIGNvbmZpZ3VyYXRpb24gdmFsaWRhdGVkIHdpdGggVEVTVCBjcmVkZW50aWFscycpO1xyXG59XHJcblxyXG4vLyDYqti12K/ZitixINin2YTYrtiv2YXYp9iqINin2YTZhdmH2YrYo9ipXHJcbmV4cG9ydCB7IGFwcCwgYXV0aCwgZGIsIGFuYWx5dGljcywgc3RvcmFnZSB9O1xyXG5cclxuLy8gRXhwb3J0IGNvbmZpZ3VyYXRpb24gZm9yIGRlYnVnZ2luZ1xyXG5leHBvcnQgeyBmaXJlYmFzZUNvbmZpZywgaGFzVmFsaWRDb25maWcsIGhhc1ZhbGlkR2VpZGVhQ29uZmlnLCBtaXNzaW5nVmFycyB9O1xyXG5cclxuLy8gRXhwb3J0IHZhbGlkYXRpb24gZnVuY3Rpb25zXHJcbmV4cG9ydCB7IHZhbGlkYXRlRmlyZWJhc2VDb25maWcsIHZhbGlkYXRlR2VpZGVhQ29uZmlnIH07XHJcbiJdLCJuYW1lcyI6WyJpbml0aWFsaXplQXBwIiwiZ2V0QXBwcyIsImdldEFuYWx5dGljcyIsImdldEF1dGgiLCJnZXRGaXJlc3RvcmUiLCJlbmFibGVOZXR3b3JrIiwiZG9jIiwiZ2V0RG9jIiwiaW5pdGlhbGl6ZUZpcmVzdG9yZSIsImdldFN0b3JhZ2UiLCJsb2dGaXJlYmFzZUVycm9yIiwic2hvdWxkU3VwcHJlc3NGaXJlYmFzZUVycm9yIiwicmVxdWlyZWRFbnZWYXJzIiwiYXBpS2V5IiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FQSV9LRVkiLCJhdXRoRG9tYWluIiwiTkVYVF9QVUJMSUNfRklSRUJBU0VfQVVUSF9ET01BSU4iLCJwcm9qZWN0SWQiLCJORVhUX1BVQkxJQ19GSVJFQkFTRV9QUk9KRUNUX0lEIiwic3RvcmFnZUJ1Y2tldCIsIk5FWFRfUFVCTElDX0ZJUkVCQVNFX1NUT1JBR0VfQlVDS0VUIiwibWVzc2FnaW5nU2VuZGVySWQiLCJORVhUX1BVQkxJQ19GSVJFQkFTRV9NRVNTQUdJTkdfU0VOREVSX0lEIiwiYXBwSWQiLCJORVhUX1BVQkxJQ19GSVJFQkFTRV9BUFBfSUQiLCJtZWFzdXJlbWVudElkIiwiTkVYVF9QVUJMSUNfRklSRUJBU0VfTUVBU1VSRU1FTlRfSUQiLCJtaXNzaW5nVmFycyIsIk9iamVjdCIsImVudHJpZXMiLCJmaWx0ZXIiLCJrZXkiLCJ2YWx1ZSIsInN0YXJ0c1dpdGgiLCJtYXAiLCJoYXNWYWxpZENvbmZpZyIsImxlbmd0aCIsImNvbnNvbGUiLCJ3YXJuIiwiZmlyZWJhc2VDb25maWciLCJnZWlkZWFDb25maWciLCJtZXJjaGFudFB1YmxpY0tleSIsIkdFSURFQV9NRVJDSEFOVF9QVUJMSUNfS0VZIiwiYXBpUGFzc3dvcmQiLCJHRUlERUFfQVBJX1BBU1NXT1JEIiwid2ViaG9va1NlY3JldCIsIkdFSURFQV9XRUJIT09LX1NFQ1JFVCIsImJhc2VVcmwiLCJHRUlERUFfQkFTRV9VUkwiLCJpc1Rlc3RNb2RlIiwidmFsaWRhdGVHZWlkZWFDb25maWciLCJhcHAiLCJhdXRoIiwiZGIiLCJhbmFseXRpY3MiLCJzdG9yYWdlIiwiZmFsbGJhY2tDb25maWciLCJFcnJvciIsImxvZyIsImlnbm9yZVVuZGVmaW5lZFByb3BlcnRpZXMiLCJjYWNoZVNpemVCeXRlcyIsImV4cGVyaW1lbnRhbEF1dG9EZXRlY3RMb25nUG9sbGluZyIsInVzZUZldGNoU3RyZWFtcyIsImVycm9yIiwiY2F0Y2giLCJlcnIiLCJ2YWxpZGF0ZUZpcmViYXNlQ29uZmlnIiwicmVxdWlyZWRGaWVsZHMiLCJtaXNzaW5nRmllbGRzIiwiZmllbGQiLCJjaGVja0ZpcmVzdG9yZUNvbm5lY3Rpb24iLCJ0ZXN0UmVmIiwiY29kZSIsInJldHJ5T3BlcmF0aW9uIiwib3BlcmF0aW9uIiwibWF4UmV0cmllcyIsImJhc2VEZWxheSIsImxhc3RFcnJvciIsImF0dGVtcHQiLCJpc05ldHdvcmtFcnJvciIsIm1lc3NhZ2UiLCJpbmNsdWRlcyIsImRlbGF5IiwiTWF0aCIsInBvdyIsInJhbmRvbSIsInJvdW5kIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiaGFzVmFsaWRHZWlkZWFDb25maWciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/firebase/config.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/firebase/error-handler.ts":
/*!*******************************************!*\
  !*** ./src/lib/firebase/error-handler.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createFirebaseErrorBoundary: () => (/* binding */ createFirebaseErrorBoundary),\n/* harmony export */   handleFirebaseError: () => (/* binding */ handleFirebaseError),\n/* harmony export */   logFirebaseError: () => (/* binding */ logFirebaseError),\n/* harmony export */   shouldSuppressFirebaseError: () => (/* binding */ shouldSuppressFirebaseError)\n/* harmony export */ });\n// Firebase Error Handler\n// معالجة محسنة لأخطاء Firebase\nfunction handleFirebaseError(error) {\n    const isDevelopment = \"development\" === \"development\";\n    // تحليل نوع الخطأ\n    if (error?.code === \"auth/invalid-api-key\") {\n        return {\n            code: \"INVALID_API_KEY\",\n            message: isDevelopment ? \"⚠️ Firebase API key is invalid (development mode)\" : \"Firebase configuration error\",\n            isDevelopment\n        };\n    }\n    if (error?.code === \"auth/network-request-failed\") {\n        return {\n            code: \"NETWORK_ERROR\",\n            message: isDevelopment ? \"⚠️ Network error (development mode)\" : \"Network connection failed\",\n            isDevelopment\n        };\n    }\n    if (error?.message?.includes(\"API key not valid\")) {\n        return {\n            code: \"API_KEY_INVALID\",\n            message: isDevelopment ? \"⚠️ API key validation failed (development mode)\" : \"Authentication failed\",\n            isDevelopment\n        };\n    }\n    if (error?.message?.includes(\"Installations: Create Installation request failed\")) {\n        return {\n            code: \"INSTALLATION_FAILED\",\n            message: isDevelopment ? \"⚠️ Firebase installation failed (development mode)\" : \"Service initialization failed\",\n            isDevelopment\n        };\n    }\n    if (error?.message?.includes(\"Failed to fetch this Firebase app\")) {\n        return {\n            code: \"CONFIG_FETCH_FAILED\",\n            message: isDevelopment ? \"⚠️ Firebase config fetch failed (development mode)\" : \"Configuration error\",\n            isDevelopment\n        };\n    }\n    // خطأ عام\n    return {\n        code: \"UNKNOWN_ERROR\",\n        message: isDevelopment ? \"⚠️ Firebase error (development mode)\" : \"An error occurred\",\n        isDevelopment\n    };\n}\nfunction logFirebaseError(error, context) {\n    const errorInfo = handleFirebaseError(error);\n    if (errorInfo.isDevelopment) {\n        // في وضع التطوير، نعرض رسالة مبسطة\n        console.warn(`${errorInfo.message}${context ? ` - ${context}` : \"\"}`);\n    } else {\n        // في الإنتاج، نعرض التفاصيل الكاملة\n        console.error(\"Firebase Error:\", {\n            code: errorInfo.code,\n            message: errorInfo.message,\n            originalError: error,\n            context\n        });\n    }\n}\nfunction shouldSuppressFirebaseError(error) {\n    const isDevelopment = \"development\" === \"development\";\n    if (!isDevelopment) {\n        return false; // لا نخفي الأخطاء في الإنتاج\n    }\n    const errorMessage = error?.message || \"\";\n    const errorCode = error?.code || \"\";\n    // قائمة بالأخطاء التي يجب إخفاؤها في التطوير\n    const suppressibleErrors = [\n        \"API key not valid\",\n        \"Installations: Create Installation request failed\",\n        \"Failed to fetch this Firebase app\",\n        \"Dynamic config fetch failed\",\n        \"auth/invalid-api-key\",\n        \"auth/network-request-failed\"\n    ];\n    return suppressibleErrors.some((suppressibleError)=>errorMessage.includes(suppressibleError) || errorCode.includes(suppressibleError));\n}\nfunction createFirebaseErrorBoundary() {\n    return {\n        onError: (error, context)=>{\n            if (shouldSuppressFirebaseError(error)) {\n                logFirebaseError(error, context);\n                return; // لا نرمي الخطأ مرة أخرى\n            }\n            // للأخطاء المهمة، نرميها مرة أخرى\n            throw error;\n        }\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2ZpcmViYXNlL2Vycm9yLWhhbmRsZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLHlCQUF5QjtBQUN6QiwrQkFBK0I7QUFReEIsU0FBU0Esb0JBQW9CQyxLQUFVO0lBQzVDLE1BQU1DLGdCQUFnQkMsa0JBQXlCO0lBRS9DLGtCQUFrQjtJQUNsQixJQUFJRixPQUFPRyxTQUFTLHdCQUF3QjtRQUMxQyxPQUFPO1lBQ0xBLE1BQU07WUFDTkMsU0FBU0gsZ0JBQWdCLHNEQUFzRDtZQUMvRUE7UUFDRjtJQUNGO0lBRUEsSUFBSUQsT0FBT0csU0FBUywrQkFBK0I7UUFDakQsT0FBTztZQUNMQSxNQUFNO1lBQ05DLFNBQVNILGdCQUFnQix3Q0FBd0M7WUFDakVBO1FBQ0Y7SUFDRjtJQUVBLElBQUlELE9BQU9JLFNBQVNDLFNBQVMsc0JBQXNCO1FBQ2pELE9BQU87WUFDTEYsTUFBTTtZQUNOQyxTQUFTSCxnQkFBZ0Isb0RBQW9EO1lBQzdFQTtRQUNGO0lBQ0Y7SUFFQSxJQUFJRCxPQUFPSSxTQUFTQyxTQUFTLHNEQUFzRDtRQUNqRixPQUFPO1lBQ0xGLE1BQU07WUFDTkMsU0FBU0gsZ0JBQWdCLHVEQUF1RDtZQUNoRkE7UUFDRjtJQUNGO0lBRUEsSUFBSUQsT0FBT0ksU0FBU0MsU0FBUyxzQ0FBc0M7UUFDakUsT0FBTztZQUNMRixNQUFNO1lBQ05DLFNBQVNILGdCQUFnQix1REFBdUQ7WUFDaEZBO1FBQ0Y7SUFDRjtJQUVBLFVBQVU7SUFDVixPQUFPO1FBQ0xFLE1BQU07UUFDTkMsU0FBU0gsZ0JBQWdCLHlDQUF5QztRQUNsRUE7SUFDRjtBQUNGO0FBRU8sU0FBU0ssaUJBQWlCTixLQUFVLEVBQUVPLE9BQWdCO0lBQzNELE1BQU1DLFlBQVlULG9CQUFvQkM7SUFFdEMsSUFBSVEsVUFBVVAsYUFBYSxFQUFFO1FBQzNCLG1DQUFtQztRQUNuQ1EsUUFBUUMsSUFBSSxDQUFDLENBQUMsRUFBRUYsVUFBVUosT0FBTyxDQUFDLEVBQUVHLFVBQVUsQ0FBQyxHQUFHLEVBQUVBLFFBQVEsQ0FBQyxHQUFHLEdBQUcsQ0FBQztJQUN0RSxPQUFPO1FBQ0wsb0NBQW9DO1FBQ3BDRSxRQUFRVCxLQUFLLENBQUMsbUJBQW1CO1lBQy9CRyxNQUFNSyxVQUFVTCxJQUFJO1lBQ3BCQyxTQUFTSSxVQUFVSixPQUFPO1lBQzFCTyxlQUFlWDtZQUNmTztRQUNGO0lBQ0Y7QUFDRjtBQUVPLFNBQVNLLDRCQUE0QlosS0FBVTtJQUNwRCxNQUFNQyxnQkFBZ0JDLGtCQUF5QjtJQUUvQyxJQUFJLENBQUNELGVBQWU7UUFDbEIsT0FBTyxPQUFPLDZCQUE2QjtJQUM3QztJQUVBLE1BQU1ZLGVBQWViLE9BQU9JLFdBQVc7SUFDdkMsTUFBTVUsWUFBWWQsT0FBT0csUUFBUTtJQUVqQyw2Q0FBNkM7SUFDN0MsTUFBTVkscUJBQXFCO1FBQ3pCO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtLQUNEO0lBRUQsT0FBT0EsbUJBQW1CQyxJQUFJLENBQUNDLENBQUFBLG9CQUM3QkosYUFBYVIsUUFBUSxDQUFDWSxzQkFDdEJILFVBQVVULFFBQVEsQ0FBQ1k7QUFFdkI7QUFFTyxTQUFTQztJQUNkLE9BQU87UUFDTEMsU0FBUyxDQUFDbkIsT0FBWU87WUFDcEIsSUFBSUssNEJBQTRCWixRQUFRO2dCQUN0Q00saUJBQWlCTixPQUFPTztnQkFDeEIsUUFBUSx5QkFBeUI7WUFDbkM7WUFFQSxrQ0FBa0M7WUFDbEMsTUFBTVA7UUFDUjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9lbDdsbS8uL3NyYy9saWIvZmlyZWJhc2UvZXJyb3ItaGFuZGxlci50cz9mZTY3Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEZpcmViYXNlIEVycm9yIEhhbmRsZXJcclxuLy8g2YXYudin2YTYrNipINmF2K3Ys9mG2Kkg2YTYo9iu2LfYp9ihIEZpcmViYXNlXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEZpcmViYXNlRXJyb3JJbmZvIHtcclxuICBjb2RlOiBzdHJpbmc7XHJcbiAgbWVzc2FnZTogc3RyaW5nO1xyXG4gIGlzRGV2ZWxvcG1lbnQ6IGJvb2xlYW47XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVGaXJlYmFzZUVycm9yKGVycm9yOiBhbnkpOiBGaXJlYmFzZUVycm9ySW5mbyB7XHJcbiAgY29uc3QgaXNEZXZlbG9wbWVudCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnO1xyXG4gIFxyXG4gIC8vINiq2K3ZhNmK2YQg2YbZiNi5INin2YTYrti32KNcclxuICBpZiAoZXJyb3I/LmNvZGUgPT09ICdhdXRoL2ludmFsaWQtYXBpLWtleScpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGNvZGU6ICdJTlZBTElEX0FQSV9LRVknLFxyXG4gICAgICBtZXNzYWdlOiBpc0RldmVsb3BtZW50ID8gJ+KaoO+4jyBGaXJlYmFzZSBBUEkga2V5IGlzIGludmFsaWQgKGRldmVsb3BtZW50IG1vZGUpJyA6ICdGaXJlYmFzZSBjb25maWd1cmF0aW9uIGVycm9yJyxcclxuICAgICAgaXNEZXZlbG9wbWVudFxyXG4gICAgfTtcclxuICB9XHJcbiAgXHJcbiAgaWYgKGVycm9yPy5jb2RlID09PSAnYXV0aC9uZXR3b3JrLXJlcXVlc3QtZmFpbGVkJykge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgY29kZTogJ05FVFdPUktfRVJST1InLFxyXG4gICAgICBtZXNzYWdlOiBpc0RldmVsb3BtZW50ID8gJ+KaoO+4jyBOZXR3b3JrIGVycm9yIChkZXZlbG9wbWVudCBtb2RlKScgOiAnTmV0d29yayBjb25uZWN0aW9uIGZhaWxlZCcsXHJcbiAgICAgIGlzRGV2ZWxvcG1lbnRcclxuICAgIH07XHJcbiAgfVxyXG4gIFxyXG4gIGlmIChlcnJvcj8ubWVzc2FnZT8uaW5jbHVkZXMoJ0FQSSBrZXkgbm90IHZhbGlkJykpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGNvZGU6ICdBUElfS0VZX0lOVkFMSUQnLFxyXG4gICAgICBtZXNzYWdlOiBpc0RldmVsb3BtZW50ID8gJ+KaoO+4jyBBUEkga2V5IHZhbGlkYXRpb24gZmFpbGVkIChkZXZlbG9wbWVudCBtb2RlKScgOiAnQXV0aGVudGljYXRpb24gZmFpbGVkJyxcclxuICAgICAgaXNEZXZlbG9wbWVudFxyXG4gICAgfTtcclxuICB9XHJcbiAgXHJcbiAgaWYgKGVycm9yPy5tZXNzYWdlPy5pbmNsdWRlcygnSW5zdGFsbGF0aW9uczogQ3JlYXRlIEluc3RhbGxhdGlvbiByZXF1ZXN0IGZhaWxlZCcpKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBjb2RlOiAnSU5TVEFMTEFUSU9OX0ZBSUxFRCcsXHJcbiAgICAgIG1lc3NhZ2U6IGlzRGV2ZWxvcG1lbnQgPyAn4pqg77iPIEZpcmViYXNlIGluc3RhbGxhdGlvbiBmYWlsZWQgKGRldmVsb3BtZW50IG1vZGUpJyA6ICdTZXJ2aWNlIGluaXRpYWxpemF0aW9uIGZhaWxlZCcsXHJcbiAgICAgIGlzRGV2ZWxvcG1lbnRcclxuICAgIH07XHJcbiAgfVxyXG4gIFxyXG4gIGlmIChlcnJvcj8ubWVzc2FnZT8uaW5jbHVkZXMoJ0ZhaWxlZCB0byBmZXRjaCB0aGlzIEZpcmViYXNlIGFwcCcpKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBjb2RlOiAnQ09ORklHX0ZFVENIX0ZBSUxFRCcsXHJcbiAgICAgIG1lc3NhZ2U6IGlzRGV2ZWxvcG1lbnQgPyAn4pqg77iPIEZpcmViYXNlIGNvbmZpZyBmZXRjaCBmYWlsZWQgKGRldmVsb3BtZW50IG1vZGUpJyA6ICdDb25maWd1cmF0aW9uIGVycm9yJyxcclxuICAgICAgaXNEZXZlbG9wbWVudFxyXG4gICAgfTtcclxuICB9XHJcbiAgXHJcbiAgLy8g2K7Yt9ijINi52KfZhVxyXG4gIHJldHVybiB7XHJcbiAgICBjb2RlOiAnVU5LTk9XTl9FUlJPUicsXHJcbiAgICBtZXNzYWdlOiBpc0RldmVsb3BtZW50ID8gJ+KaoO+4jyBGaXJlYmFzZSBlcnJvciAoZGV2ZWxvcG1lbnQgbW9kZSknIDogJ0FuIGVycm9yIG9jY3VycmVkJyxcclxuICAgIGlzRGV2ZWxvcG1lbnRcclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbG9nRmlyZWJhc2VFcnJvcihlcnJvcjogYW55LCBjb250ZXh0Pzogc3RyaW5nKSB7XHJcbiAgY29uc3QgZXJyb3JJbmZvID0gaGFuZGxlRmlyZWJhc2VFcnJvcihlcnJvcik7XHJcbiAgXHJcbiAgaWYgKGVycm9ySW5mby5pc0RldmVsb3BtZW50KSB7XHJcbiAgICAvLyDZgdmKINmI2LbYuSDYp9mE2KrYt9mI2YrYsdiMINmG2LnYsdi2INix2LPYp9mE2Kkg2YXYqNiz2LfYqVxyXG4gICAgY29uc29sZS53YXJuKGAke2Vycm9ySW5mby5tZXNzYWdlfSR7Y29udGV4dCA/IGAgLSAke2NvbnRleHR9YCA6ICcnfWApO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyDZgdmKINin2YTYpdmG2KrYp9is2Iwg2YbYudix2LYg2KfZhNiq2YHYp9i12YrZhCDYp9mE2YPYp9mF2YTYqVxyXG4gICAgY29uc29sZS5lcnJvcignRmlyZWJhc2UgRXJyb3I6Jywge1xyXG4gICAgICBjb2RlOiBlcnJvckluZm8uY29kZSxcclxuICAgICAgbWVzc2FnZTogZXJyb3JJbmZvLm1lc3NhZ2UsXHJcbiAgICAgIG9yaWdpbmFsRXJyb3I6IGVycm9yLFxyXG4gICAgICBjb250ZXh0XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzaG91bGRTdXBwcmVzc0ZpcmViYXNlRXJyb3IoZXJyb3I6IGFueSk6IGJvb2xlYW4ge1xyXG4gIGNvbnN0IGlzRGV2ZWxvcG1lbnQgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JztcclxuICBcclxuICBpZiAoIWlzRGV2ZWxvcG1lbnQpIHtcclxuICAgIHJldHVybiBmYWxzZTsgLy8g2YTYpyDZhtiu2YHZiiDYp9mE2KPYrti32KfYoSDZgdmKINin2YTYpdmG2KrYp9isXHJcbiAgfVxyXG4gIFxyXG4gIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yPy5tZXNzYWdlIHx8ICcnO1xyXG4gIGNvbnN0IGVycm9yQ29kZSA9IGVycm9yPy5jb2RlIHx8ICcnO1xyXG4gIFxyXG4gIC8vINmC2KfYptmF2Kkg2KjYp9mE2KPYrti32KfYoSDYp9mE2KrZiiDZitis2Kgg2KXYrtmB2KfYpNmH2Kcg2YHZiiDYp9mE2KrYt9mI2YrYsVxyXG4gIGNvbnN0IHN1cHByZXNzaWJsZUVycm9ycyA9IFtcclxuICAgICdBUEkga2V5IG5vdCB2YWxpZCcsXHJcbiAgICAnSW5zdGFsbGF0aW9uczogQ3JlYXRlIEluc3RhbGxhdGlvbiByZXF1ZXN0IGZhaWxlZCcsXHJcbiAgICAnRmFpbGVkIHRvIGZldGNoIHRoaXMgRmlyZWJhc2UgYXBwJyxcclxuICAgICdEeW5hbWljIGNvbmZpZyBmZXRjaCBmYWlsZWQnLFxyXG4gICAgJ2F1dGgvaW52YWxpZC1hcGkta2V5JyxcclxuICAgICdhdXRoL25ldHdvcmstcmVxdWVzdC1mYWlsZWQnXHJcbiAgXTtcclxuICBcclxuICByZXR1cm4gc3VwcHJlc3NpYmxlRXJyb3JzLnNvbWUoc3VwcHJlc3NpYmxlRXJyb3IgPT4gXHJcbiAgICBlcnJvck1lc3NhZ2UuaW5jbHVkZXMoc3VwcHJlc3NpYmxlRXJyb3IpIHx8IFxyXG4gICAgZXJyb3JDb2RlLmluY2x1ZGVzKHN1cHByZXNzaWJsZUVycm9yKVxyXG4gICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGaXJlYmFzZUVycm9yQm91bmRhcnkoKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIG9uRXJyb3I6IChlcnJvcjogYW55LCBjb250ZXh0Pzogc3RyaW5nKSA9PiB7XHJcbiAgICAgIGlmIChzaG91bGRTdXBwcmVzc0ZpcmViYXNlRXJyb3IoZXJyb3IpKSB7XHJcbiAgICAgICAgbG9nRmlyZWJhc2VFcnJvcihlcnJvciwgY29udGV4dCk7XHJcbiAgICAgICAgcmV0dXJuOyAvLyDZhNinINmG2LHZhdmKINin2YTYrti32KMg2YXYsdipINij2K7YsdmJXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vINmE2YTYo9iu2LfYp9ihINin2YTZhdmH2YXYqdiMINmG2LHZhdmK2YfYpyDZhdix2Kkg2KPYrtix2YlcclxuICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICB9XHJcbiAgfTtcclxufSBcclxuIl0sIm5hbWVzIjpbImhhbmRsZUZpcmViYXNlRXJyb3IiLCJlcnJvciIsImlzRGV2ZWxvcG1lbnQiLCJwcm9jZXNzIiwiY29kZSIsIm1lc3NhZ2UiLCJpbmNsdWRlcyIsImxvZ0ZpcmViYXNlRXJyb3IiLCJjb250ZXh0IiwiZXJyb3JJbmZvIiwiY29uc29sZSIsIndhcm4iLCJvcmlnaW5hbEVycm9yIiwic2hvdWxkU3VwcHJlc3NGaXJlYmFzZUVycm9yIiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JDb2RlIiwic3VwcHJlc3NpYmxlRXJyb3JzIiwic29tZSIsInN1cHByZXNzaWJsZUVycm9yIiwiY3JlYXRlRmlyZWJhc2VFcnJvckJvdW5kYXJ5Iiwib25FcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/firebase/error-handler.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/@firebase","vendor-chunks/@grpc","vendor-chunks/next","vendor-chunks/firebase","vendor-chunks/protobufjs","vendor-chunks/long","vendor-chunks/@opentelemetry","vendor-chunks/@protobufjs","vendor-chunks/lodash.camelcase","vendor-chunks/tslib","vendor-chunks/idb"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalytics%2Froute&page=%2Fapi%2Fanalytics%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalytics%2Froute.ts&appDir=D%3A%5Cel7lm25-main%20(1)%5Cel7lm25-main%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5Cel7lm25-main%20(1)%5Cel7lm25-main&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();